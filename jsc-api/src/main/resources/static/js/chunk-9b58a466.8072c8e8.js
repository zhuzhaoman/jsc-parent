(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b58a466"],{"08d2":function(e,t,l){"use strict";l.d(t,"a",(function(){return a})),l.d(t,"b",(function(){return r}));var o=l("b775");function a(e){return Object(o["a"])({url:"/domain/all",method:"get",params:{username:e}})}function r(e){return Object(o["a"])({url:"/domain/get",method:"post",data:e})}},"1b32":function(e,t,l){"use strict";l.r(t);var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"container"},[l("el-row",{staticStyle:{"margin-bottom":"20px"}},[l("el-col",{staticStyle:{border:"1px solid transparent"},attrs:{span:2}}),l("el-col",{attrs:{span:20}},[l("div",{staticClass:"select-wrap"},[l("el-cascader",{staticStyle:{"margin-right":"5px",width:"250px"},attrs:{placeholder:"请选择域",options:e.domain,props:{expandTrigger:"hover"}},model:{value:e.domainValue,callback:function(t){e.domainValue=t},expression:"domainValue"}}),l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.rule,callback:function(t){e.rule=t},expression:"rule"}},e._l(e.RuleType,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),l("el-col",{staticStyle:{border:"1px solid transparent"},attrs:{span:2}})],1),l("el-row",[l("el-col",{staticStyle:{border:"1px solid transparent"},attrs:{span:2}}),l("el-col",{attrs:{span:20}},["ipv4"===e.rule?l("addipv4",{attrs:{domain:e.domainValue,user:e.user}}):e._e(),"ipv6"===e.rule?l("addipv6",{attrs:{domain:e.domainValue,user:e.user}}):e._e(),"fix-char"===e.rule?l("addfixchar",{attrs:{domain:e.domainValue,user:e.user}}):e._e(),"full-char"===e.rule?l("addfullchar",{attrs:{domain:e.domainValue,user:e.user}}):e._e(),"vlan"===e.rule?l("addvlan",{attrs:{domain:e.domainValue,user:e.user}}):e._e(),"window"===e.rule?l("addwindow",{attrs:{domain:e.domainValue,user:e.user}}):e._e(),"eth-mac"===e.rule?l("addethmac",{attrs:{domain:e.domainValue,user:e.user}}):e._e(),"imsi"===e.rule?l("addimsi",{attrs:{domain:e.domainValue,user:e.user}}):e._e(),"protocol"===e.rule?l("addprotocol",{attrs:{domain:e.domainValue,user:e.user}}):e._e(),"url"===e.rule?l("addurl",{attrs:{domain:e.domainValue,user:e.user}}):e._e(),"tcp-flag"===e.rule?l("addtcpflag",{attrs:{domain:e.domainValue,user:e.user}}):e._e(),"config-template"===e.rule?l("configtemplate",{attrs:{domain:e.domainValue,user:e.user}}):e._e()],1),l("el-col",{staticStyle:{border:"1px solid transparent"},attrs:{span:2}})],1)],1)},a=[],r=(l("4160"),l("45fc"),l("159b"),l("96cf"),l("1da1")),u=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"addipv4"}},[l("el-form",{ref:"CIpv4FiveMetaMsg",attrs:{model:e.CIpv4FiveMetaMsg,rules:e.CIpv4FiveMetaMsgRules,"label-width":"100px",inline:!0}},[l("el-row",[l("el-form-item",{attrs:{label:"规则ID",prop:"m_u32AclIndex"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32AclIndex,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32AclIndex",e._n(t))},expression:"CIpv4FiveMetaMsg.m_u32AclIndex"}})],1),l("el-form-item",{attrs:{label:"业务策略ID",prop:"m_u32ServiceProfileId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32ServiceProfileId,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32ServiceProfileId",e._n(t))},expression:"CIpv4FiveMetaMsg.m_u32ServiceProfileId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"源IP",prop:"m_u32SrcIp"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32SrcIp,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32SrcIp",t)},expression:"CIpv4FiveMetaMsg.m_u32SrcIp"}})],1),l("el-form-item",{attrs:{label:"源IP掩码",prop:"m_u32SrcIpMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32SrcIpMask,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32SrcIpMask",t)},expression:"CIpv4FiveMetaMsg.m_u32SrcIpMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"目的IP",prop:"m_u32DstIp"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32DstIp,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32DstIp",t)},expression:"CIpv4FiveMetaMsg.m_u32DstIp"}})],1),l("el-form-item",{attrs:{label:"目的IP掩码",prop:"m_u32DstIpMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32DstIpMask,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32DstIpMask",t)},expression:"CIpv4FiveMetaMsg.m_u32DstIpMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"源端口",prop:"m_u32SrcPort"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32SrcPort,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32SrcPort",e._n(t))},expression:"CIpv4FiveMetaMsg.m_u32SrcPort"}})],1),l("el-form-item",{attrs:{label:"源端口掩码",prop:"m_u32SrcPortMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32SrcPortMask,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32SrcPortMask",t)},expression:"CIpv4FiveMetaMsg.m_u32SrcPortMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"目的端口",prop:"m_u32DstPort"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32DstPort,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32DstPort",e._n(t))},expression:"CIpv4FiveMetaMsg.m_u32DstPort"}})],1),l("el-form-item",{attrs:{label:"目的端口掩码",prop:"m_u32DstPortMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32DstPortMask,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32DstPortMask",t)},expression:"CIpv4FiveMetaMsg.m_u32DstPortMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"协议号",prop:"m_u32Protocol"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32Protocol,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32Protocol",t)},expression:"CIpv4FiveMetaMsg.m_u32Protocol"}})],1),l("el-form-item",{attrs:{label:"协议掩码",prop:"m_u32ProtocolMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32ProtocolMask,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32ProtocolMask",t)},expression:"CIpv4FiveMetaMsg.m_u32ProtocolMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"输入端口组ID",prop:"m_u32InputPortGroupId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32InputPortGroupId,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32InputPortGroupId",e._n(t))},expression:"CIpv4FiveMetaMsg.m_u32InputPortGroupId"}})],1),l("el-form-item",{attrs:{label:"优先级",prop:"m_u32Priority"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv4FiveMetaMsg.m_u32Priority,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32Priority",e._n(t))},expression:"CIpv4FiveMetaMsg.m_u32Priority"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"重启保存",prop:"m_u32RstAclSave"}},[l("el-radio-group",{model:{value:e.CIpv4FiveMetaMsg.m_u32RstAclSave,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32RstAclSave",t)},expression:"CIpv4FiveMetaMsg.m_u32RstAclSave"}},[l("el-radio",{attrs:{label:"1"}},[e._v("不保存")]),l("el-radio",{attrs:{label:"0"}},[e._v("保存")])],1)],1),l("el-form-item",{attrs:{label:"中标统计",prop:"m_u32HitStat"}},[l("el-radio-group",{model:{value:e.CIpv4FiveMetaMsg.m_u32HitStat,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32HitStat",t)},expression:"CIpv4FiveMetaMsg.m_u32HitStat"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不统计")]),l("el-radio",{attrs:{label:"1"}},[e._v("统计")])],1)],1),l("el-form-item",{attrs:{label:"复合规则",prop:"m_u32CompositeFlag"}},[l("el-radio-group",{model:{value:e.CIpv4FiveMetaMsg.m_u32CompositeFlag,callback:function(t){e.$set(e.CIpv4FiveMetaMsg,"m_u32CompositeFlag",t)},expression:"CIpv4FiveMetaMsg.m_u32CompositeFlag"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不复合")]),l("el-radio",{attrs:{label:"1"}},[e._v("复合")])],1)],1)],1),"1"===e.CIpv4FiveMetaMsg.m_u32CompositeFlag?l("el-row",[l("el-form-item",{attrs:{label:"复合1类型",prop:"m_tCompoundMsg[0].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CIpv4FiveMetaMsg.m_tCompoundMsg[0].m_u32RuleType,callback:function(t){e.$set(e.CIpv4FiveMetaMsg.m_tCompoundMsg[0],"m_u32RuleType",e._n(t))},expression:"CIpv4FiveMetaMsg.m_tCompoundMsg[0].m_u32RuleType"}},e._l(e.compoundRuleType,(function(t){return l("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType}})})),1)})),1)],1),l("el-form-item",{attrs:{label:"复合1ID",prop:"m_tCompoundMsg[0].m_u32RelateId"}},[l("el-input",{model:{value:e.CIpv4FiveMetaMsg.m_tCompoundMsg[0].m_u32RelateId,callback:function(t){e.$set(e.CIpv4FiveMetaMsg.m_tCompoundMsg[0],"m_u32RelateId",e._n(t))},expression:"CIpv4FiveMetaMsg.m_tCompoundMsg[0].m_u32RelateId"}})],1)],1):e._e(),"1"===e.CIpv4FiveMetaMsg.m_u32CompositeFlag&&11!==e.CIpv4FiveMetaMsg.m_tCompoundMsg[0].m_u32RuleType&&4!==e.CIpv4FiveMetaMsg.m_tCompoundMsg[0].m_u32RuleType?l("el-row",[l("el-row",[l("el-form-item",{attrs:{label:"复合2类型",prop:"m_tCompoundMsg[1].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CIpv4FiveMetaMsg.m_tCompoundMsg[1].m_u32RuleType,callback:function(t){e.$set(e.CIpv4FiveMetaMsg.m_tCompoundMsg[1],"m_u32RuleType",e._n(t))},expression:"CIpv4FiveMetaMsg.m_tCompoundMsg[1].m_u32RuleType"}},e._l(e.compoundRuleType,(function(t){return l("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)})),1)],1),l("el-form-item",{attrs:{label:"复合2ID",prop:"m_tCompoundMsg[1].m_u32RelateId"}},[l("el-input",{model:{value:e.CIpv4FiveMetaMsg.m_tCompoundMsg[1].m_u32RelateId,callback:function(t){e.$set(e.CIpv4FiveMetaMsg.m_tCompoundMsg[1],"m_u32RelateId",e._n(t))},expression:"CIpv4FiveMetaMsg.m_tCompoundMsg[1].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合3类型",prop:"m_tCompoundMsg[2].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CIpv4FiveMetaMsg.m_tCompoundMsg[2].m_u32RuleType,callback:function(t){e.$set(e.CIpv4FiveMetaMsg.m_tCompoundMsg[2],"m_u32RuleType",e._n(t))},expression:"CIpv4FiveMetaMsg.m_tCompoundMsg[2].m_u32RuleType"}},e._l(e.compoundRuleType,(function(t){return l("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)})),1)],1),l("el-form-item",{attrs:{label:"复合3ID",prop:"m_tCompoundMsg[2].m_u32RelateId"}},[l("el-input",{model:{value:e.CIpv4FiveMetaMsg.m_tCompoundMsg[2].m_u32RelateId,callback:function(t){e.$set(e.CIpv4FiveMetaMsg.m_tCompoundMsg[2],"m_u32RelateId",e._n(t))},expression:"CIpv4FiveMetaMsg.m_tCompoundMsg[2].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合4类型",prop:"m_tCompoundMsg[3].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CIpv4FiveMetaMsg.m_tCompoundMsg[3].m_u32RuleType,callback:function(t){e.$set(e.CIpv4FiveMetaMsg.m_tCompoundMsg[3],"m_u32RuleType",e._n(t))},expression:"CIpv4FiveMetaMsg.m_tCompoundMsg[3].m_u32RuleType"}},e._l(e.compoundRuleType,(function(t){return l("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)})),1)],1),l("el-form-item",{attrs:{label:"复合4ID",prop:"m_tCompoundMsg[3].m_u32RelateId"}},[l("el-input",{model:{value:e.CIpv4FiveMetaMsg.m_tCompoundMsg[3].m_u32RelateId,callback:function(t){e.$set(e.CIpv4FiveMetaMsg.m_tCompoundMsg[3],"m_u32RelateId",e._n(t))},expression:"CIpv4FiveMetaMsg.m_tCompoundMsg[3].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合5类型",prop:"m_tCompoundMsg[4].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CIpv4FiveMetaMsg.m_tCompoundMsg[4].m_u32RuleType,callback:function(t){e.$set(e.CIpv4FiveMetaMsg.m_tCompoundMsg[4],"m_u32RuleType",e._n(t))},expression:"CIpv4FiveMetaMsg.m_tCompoundMsg[4].m_u32RuleType"}},e._l(e.compoundRuleType,(function(t){return l("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)})),1)],1),l("el-form-item",{attrs:{label:"复合5ID",prop:"m_tCompoundMsg[4].m_u32RelateId"}},[l("el-input",{model:{value:e.CIpv4FiveMetaMsg.m_tCompoundMsg[4].m_u32RelateId,callback:function(t){e.$set(e.CIpv4FiveMetaMsg.m_tCompoundMsg[4],"m_u32RelateId",e._n(t))},expression:"CIpv4FiveMetaMsg.m_tCompoundMsg[4].m_u32RelateId"}})],1)],1)],1):e._e()],1),l("el-form",[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("CIpv4FiveMetaMsg")}}},[e._v("立即创建")]),l("el-button",{on:{click:function(t){return e.resetForm("CIpv4FiveMetaMsg")}}},[e._v("重置")])],1)],1)],1)},s=[],m=(l("c975"),l("34c6")),i={name:"addipv4",data:function(){return{compoundRuleType:[{label:"fixchar/imsi",compoundRuleType:[{CompoundRuleType:4,label:"固定位置特征码规则",disabled:!0},{CompoundRuleType:11,label:"imsi规则",disabled:!0}]},{label:"其他规则",compoundRuleType:[{CompoundRuleType:7,label:"全包浮动特征码规则"},{CompoundRuleType:6,label:"window规则"},{CompoundRuleType:26,label:"url规则"},{CompoundRuleType:27,label:"url-host规则"},{CompoundRuleType:28,label:"url-uri规则"}]}],CompoundRuleType:0,CIpv4FiveMetaMsg:{m_u32AclIndex:"",m_u32ServiceProfileId:"",m_u32SrcIpMask:"",m_u32DstIpMask:"",m_u32SrcPortMask:"",m_u32DstPortMask:"",m_u32ProtocolMask:"",m_u32RstAclSave:1,m_u32HitStat:"",m_u32MaskFlag:0,m_u32Protocol:"",m_u32SrcIp:"",m_u32DstIp:"",m_u32SrcPort:"",m_u32DstPort:"",m_u32RuleSource:"",m_u32Priority:"",m_u32CompositeFlag:0,m_u32AgeingTime:"",m_u32RuleNum:"",m_u32Step:"",m_u32Stragety:"",m_u32Location:"",m_u32RuleType:0,m_u32MatchType:0,m_u32InputPortGroupId:"",m_tCompoundMsg:[{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""}]},CIpv4FiveMetaMsgRules:{m_u32AclIndex:[{required:!0,message:"规则ID不能为空",trigger:"blur"},{pattern:/^([1-9]\d{0,6}|1[0-9]\d{6}|2[0-1][0-9]\d{5}|22000000)$/,message:"规则ID必须为数字值且范围为1-22000000",trigger:"blur"}],m_u32ServiceProfileId:[{required:!0,message:"业务策略ID不能为空",trigger:"blur"},{pattern:/^([1-9][0-9]?|1[0-2][0-7])$/,message:"业务策略ID必须为数字值且范围为1-127",trigger:"blur"}],m_u32InputPortGroupId:[{pattern:/^([1-9]\d?|100)$/,message:"输入端口组ID必须为数字值且范围为1-100",trigger:"blur"}],m_u32Priority:[{pattern:/^([1-9]|[1-2][0-9]|3[0-2])$/,message:"优先级必须为数字值且范围为1-32",trigger:"blur"}],m_u32Protocol:[{pattern:/^(tcp|udp|[1-9]\d?|1[0-9]\d|2[0-4][0-9]|25[0-5])$/,message:"协议号为tcp/udp/范围为1-255的数字",trigger:"blur"}],m_u32ProtocolMask:[{pattern:/^(0x[0-9a-fA-F]{1,2})$/,message:"协议号掩码范围为0x00-0xff",trigger:"blur"}],m_u32DstPort:[{pattern:/^([1-9]\d{0,3}|[1-5][0-9]\d{3}|6[0-4][0-9]\d{2}|65[0-4][0-9]\d|655[0-2][0-9]|6553[0-5])$/,message:"端口号必须为数字值且范围为1-65535",trigger:"blur"}],m_u32SrcPort:[{pattern:/^([1-9]\d{0,3}|[1-5][0-9]\d{3}|6[0-4][0-9]\d{2}|65[0-4][0-9]\d|655[0-2][0-9]|6553[0-5])$/,message:"端口号必须为数字值且范围为1-65535",trigger:"blur"}],m_u32SrcIp:[{pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,message:"请输入正确形式的ipv4地址",trigger:"blur"}],m_u32DstIp:[{pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,message:"请输入正确形式的ipv4地址",trigger:"blur"}],m_u32SrcIpMask:[{pattern:/^0x[0-9a-fA-F]{1,8}$/,message:"请输入正确形式的ipv4地址掩码，最多8字节",trigger:"blur"}],m_u32DstIpMask:[{pattern:/^0x[0-9a-fA-F]{1,8}$/,message:"请输入正确形式的ipv4地址掩码，最多8字节",trigger:"blur"}],m_u32SrcPortMask:[{pattern:/^0x[0-9a-fA-F]{1,4}$/,message:"请输入正确形式的端口掩码，最多4字节",trigger:"blur"}],m_u32DstPortMask:[{pattern:/^0x[0-9a-fA-F]{1,4}$/,message:"请输入正确形式的端口掩码，最多4字节",trigger:"blur"}]}}},props:{domain:{type:Array},user:{type:String}},methods:{submitForm:function(e){var t=JSON.stringify(this.CIpv4FiveMetaMsg),l=JSON.parse(t);if(this.checkMaskFlag(l),this.checkRuleType(l),this.setIpPortProtocolDefaultValue(l),!1===this.checkCompoundRuleId(l))return!1;"tcp"===l.m_u32Protocol&&(l.m_u32Protocol="6"),"udp"===l.m_u32Protocol&&(l.m_u32Protocol="17");var o={domainId:this.domain[1],domainType:this.domain[0],username:this.user,ruleType:"ipv4",ruleAction:"add",param:l};console.log(o),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(m["a"])(o).then((function(e){console.log(e),alert(e.data.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields()},checkRuleType:function(e){for(var t=0;t<e.m_tCompoundMsg.length;t++)4===e.m_tCompoundMsg[t].m_u32RuleType?e.m_u32RuleType=19:11===e.m_tCompoundMsg[t].m_u32RuleType?e.m_u32RuleType=30:e.m_u32RuleType=20},checkMaskFlag:function(e){""!==e.m_u32InputPortGroupId?""===e.m_u32SrcIpMask&&""===e.m_u32DstIpMask&&""===e.m_u32DstPortMask&&""===e.m_u32SrcPortMask&&""===e.m_u32ProtocolMask||(e.m_u32MaskFlag=1):e.m_u32MaskFlag=0},setIpPortProtocolDefaultValue:function(e){""===e.m_u32SrcIp&&(e.m_u32SrcIpMask="0"),""!==e.m_u32SrcIp&&""===e.m_u32SrcIpMask&&(e.m_u32SrcIpMask="0xffffffff"),""===e.m_u32DstIp&&(e.m_u32DstIpMask="0"),""!==e.m_u32DstIp&&""===e.m_u32DstIpMask&&(e.m_u32DstIpMask="0xffffffff"),""===e.m_u32SrcPort&&(e.m_u32SrcPortMask="0"),""!==e.m_u32SrcPort&&""===e.m_u32SrcPortMask&&(e.m_u32SrcPortMask="0xffffffff"),""===e.m_u32DstPort&&(e.m_u32DstPortMask="0"),""!==e.m_u32DstPort&&""===e.m_u32DstPortMask&&(e.m_u32DstPortMask="0xffffffff"),""===e.m_u32Protocol&&(e.m_u32ProtocolMask="0"),""!==e.m_u32Protocol&&""===e.m_u32ProtocolMask&&(e.m_u32ProtocolMask="0xffffffff")},checkCompoundRuleId:function(e){if("0"===e.m_u32CompositeFlag)delete e.m_tCompoundMsg;else for(var t=[4,6,7,11,26,27,28],l=0;l<5;l++){if(-1!==t.indexOf(e.m_tCompoundMsg[l].m_u32RuleType)&&""===e.m_tCompoundMsg[l].m_u32RelateId)return alert("请输入复合规则ID"),!1;if(""===e.m_tCompoundMsg[l].m_u32RuleType&&""!==e.m_tCompoundMsg[l].m_u32RelateId)return alert("请选择复合规则类型"),!1}}}},n=i,p=l("2877"),d=Object(p["a"])(n,u,s,!1,null,"74ead9f7",null),c=d.exports,_=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"addipv6"}},[l("el-form",{ref:"CIpv6FiveMetaMsg",staticStyle:{"margin-left":"220px"},attrs:{model:e.CIpv6FiveMetaMsg,rules:e.CIpv6FiveMetaMsgRules,"label-width":"100px",inline:!0}},[l("el-row",[l("el-form-item",{attrs:{label:"规则ID",prop:"m_u32AclIndex"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_u32AclIndex,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_u32AclIndex",e._n(t))},expression:"CIpv6FiveMetaMsg.m_u32AclIndex"}})],1),l("el-form-item",{attrs:{label:"业务策略ID",prop:"m_u32ServiceProfileId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_u32ServiceProfileId,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_u32ServiceProfileId",e._n(t))},expression:"CIpv6FiveMetaMsg.m_u32ServiceProfileId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"源IP",prop:"m_strSrcIp"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_strSrcIp,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_strSrcIp",t)},expression:"CIpv6FiveMetaMsg.m_strSrcIp"}})],1),l("el-form-item",{attrs:{label:"源IP掩码",prop:"m_strSrcIpMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_strSrcIpMask,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_strSrcIpMask",t)},expression:"CIpv6FiveMetaMsg.m_strSrcIpMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"目的IP",prop:"m_strDstIp"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_strDstIp,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_strDstIp",t)},expression:"CIpv6FiveMetaMsg.m_strDstIp"}})],1),l("el-form-item",{attrs:{label:"目的IP掩码",prop:"m_strDstIpMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_strDstIpMask,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_strDstIpMask",t)},expression:"CIpv6FiveMetaMsg.m_strDstIpMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"源端口",prop:"m_u32SrcPort"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_u32SrcPort,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_u32SrcPort",e._n(t))},expression:"CIpv6FiveMetaMsg.m_u32SrcPort"}})],1),l("el-form-item",{attrs:{label:"源端口掩码",prop:"m_u32SrcPortMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_u32SrcPortMask,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_u32SrcPortMask",t)},expression:"CIpv6FiveMetaMsg.m_u32SrcPortMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"目的端口",prop:"m_u32DstPort"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_u32DstPort,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_u32DstPort",e._n(t))},expression:"CIpv6FiveMetaMsg.m_u32DstPort"}})],1),l("el-form-item",{attrs:{label:"目的端口掩码",prop:"m_u32DstPortMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_u32DstPortMask,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_u32DstPortMask",t)},expression:"CIpv6FiveMetaMsg.m_u32DstPortMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"协议号",prop:"m_u32Protocol"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_u32Protocol,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_u32Protocol",t)},expression:"CIpv6FiveMetaMsg.m_u32Protocol"}})],1),l("el-form-item",{attrs:{label:"协议掩码",prop:"m_u32ProtocolMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_u32ProtocolMask,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_u32ProtocolMask",t)},expression:"CIpv6FiveMetaMsg.m_u32ProtocolMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"输入端口组ID",prop:"m_u32InputPortGroupId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_u32InputPortGroupId,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_u32InputPortGroupId",e._n(t))},expression:"CIpv6FiveMetaMsg.m_u32InputPortGroupId"}})],1),l("el-form-item",{attrs:{label:"优先级",prop:"m_u32Priority"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CIpv6FiveMetaMsg.m_u32Priority,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_u32Priority",e._n(t))},expression:"CIpv6FiveMetaMsg.m_u32Priority"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"重启保存",prop:"m_u32RstAclSave"}},[l("el-radio-group",{model:{value:e.CIpv6FiveMetaMsg.m_u32RstAclSave,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_u32RstAclSave",t)},expression:"CIpv6FiveMetaMsg.m_u32RstAclSave"}},[l("el-radio",{attrs:{label:"1"}},[e._v("不保存")]),l("el-radio",{attrs:{label:"0"}},[e._v("保存")])],1)],1),l("el-form-item",{attrs:{label:"中标统计",prop:"m_u32HitStat"}},[l("el-radio-group",{model:{value:e.CIpv6FiveMetaMsg.m_u32HitStat,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_u32HitStat",t)},expression:"CIpv6FiveMetaMsg.m_u32HitStat"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不统计")]),l("el-radio",{attrs:{label:"1"}},[e._v("统计")])],1)],1),l("el-form-item",{attrs:{label:"复合规则",prop:"m_u32CompositeFlag"}},[l("el-radio-group",{model:{value:e.CIpv6FiveMetaMsg.m_u32CompositeFlag,callback:function(t){e.$set(e.CIpv6FiveMetaMsg,"m_u32CompositeFlag",t)},expression:"CIpv6FiveMetaMsg.m_u32CompositeFlag"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不复合")]),l("el-radio",{attrs:{label:"1"}},[e._v("复合")])],1)],1)],1),"1"===e.CIpv6FiveMetaMsg.m_u32CompositeFlag?l("el-row",[l("el-form-item",{attrs:{label:"复合1类型",prop:"m_tCompoundMsg[0].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CIpv6FiveMetaMsg.m_tCompoundMsg[0].m_u32RuleType,callback:function(t){e.$set(e.CIpv6FiveMetaMsg.m_tCompoundMsg[0],"m_u32RuleType",e._n(t))},expression:"CIpv6FiveMetaMsg.m_tCompoundMsg[0].m_u32RuleType"}},e._l(e.compoundRuleType,(function(t){return l("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType}})})),1)})),1)],1),l("el-form-item",{attrs:{label:"复合1ID",prop:"m_tCompoundMsg[0].m_u32RelateId"}},[l("el-input",{model:{value:e.CIpv6FiveMetaMsg.m_tCompoundMsg[0].m_u32RelateId,callback:function(t){e.$set(e.CIpv6FiveMetaMsg.m_tCompoundMsg[0],"m_u32RelateId",e._n(t))},expression:"CIpv6FiveMetaMsg.m_tCompoundMsg[0].m_u32RelateId"}})],1)],1):e._e(),"1"===e.CIpv6FiveMetaMsg.m_u32CompositeFlag&&11!==e.CIpv6FiveMetaMsg.m_tCompoundMsg[0].m_u32RuleType&&4!==e.CIpv6FiveMetaMsg.m_tCompoundMsg[0].m_u32RuleType?l("el-row",[l("el-row",[l("el-form-item",{attrs:{label:"复合2类型",prop:"m_tCompoundMsg[1].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CIpv6FiveMetaMsg.m_tCompoundMsg[1].m_u32RuleType,callback:function(t){e.$set(e.CIpv6FiveMetaMsg.m_tCompoundMsg[1],"m_u32RuleType",e._n(t))},expression:"CIpv6FiveMetaMsg.m_tCompoundMsg[1].m_u32RuleType"}},e._l(e.compoundRuleType,(function(t){return l("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)})),1)],1),l("el-form-item",{attrs:{label:"复合2ID",prop:"m_tCompoundMsg[1].m_u32RelateId"}},[l("el-input",{model:{value:e.CIpv6FiveMetaMsg.m_tCompoundMsg[1].m_u32RelateId,callback:function(t){e.$set(e.CIpv6FiveMetaMsg.m_tCompoundMsg[1],"m_u32RelateId",e._n(t))},expression:"CIpv6FiveMetaMsg.m_tCompoundMsg[1].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合3类型",prop:"m_tCompoundMsg[2].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CIpv6FiveMetaMsg.m_tCompoundMsg[2].m_u32RuleType,callback:function(t){e.$set(e.CIpv6FiveMetaMsg.m_tCompoundMsg[2],"m_u32RuleType",e._n(t))},expression:"CIpv6FiveMetaMsg.m_tCompoundMsg[2].m_u32RuleType"}},e._l(e.compoundRuleType,(function(t){return l("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)})),1)],1),l("el-form-item",{attrs:{label:"复合3ID",prop:"m_tCompoundMsg[2].m_u32RelateId"}},[l("el-input",{model:{value:e.CIpv6FiveMetaMsg.m_tCompoundMsg[2].m_u32RelateId,callback:function(t){e.$set(e.CIpv6FiveMetaMsg.m_tCompoundMsg[2],"m_u32RelateId",e._n(t))},expression:"CIpv6FiveMetaMsg.m_tCompoundMsg[2].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合4类型",prop:"m_tCompoundMsg[3].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CIpv6FiveMetaMsg.m_tCompoundMsg[3].m_u32RuleType,callback:function(t){e.$set(e.CIpv6FiveMetaMsg.m_tCompoundMsg[3],"m_u32RuleType",e._n(t))},expression:"CIpv6FiveMetaMsg.m_tCompoundMsg[3].m_u32RuleType"}},e._l(e.compoundRuleType,(function(t){return l("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)})),1)],1),l("el-form-item",{attrs:{label:"复合4ID",prop:"m_tCompoundMsg[3].m_u32RelateId"}},[l("el-input",{model:{value:e.CIpv6FiveMetaMsg.m_tCompoundMsg[3].m_u32RelateId,callback:function(t){e.$set(e.CIpv6FiveMetaMsg.m_tCompoundMsg[3],"m_u32RelateId",e._n(t))},expression:"CIpv6FiveMetaMsg.m_tCompoundMsg[3].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合5类型",prop:"m_tCompoundMsg[4].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CIpv6FiveMetaMsg.m_tCompoundMsg[4].m_u32RuleType,callback:function(t){e.$set(e.CIpv6FiveMetaMsg.m_tCompoundMsg[4],"m_u32RuleType",e._n(t))},expression:"CIpv6FiveMetaMsg.m_tCompoundMsg[4].m_u32RuleType"}},e._l(e.compoundRuleType,(function(t){return l("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)})),1)],1),l("el-form-item",{attrs:{label:"复合5ID",prop:"m_tCompoundMsg[4].m_u32RelateId"}},[l("el-input",{model:{value:e.CIpv6FiveMetaMsg.m_tCompoundMsg[4].m_u32RelateId,callback:function(t){e.$set(e.CIpv6FiveMetaMsg.m_tCompoundMsg[4],"m_u32RelateId",e._n(t))},expression:"CIpv6FiveMetaMsg.m_tCompoundMsg[4].m_u32RelateId"}})],1)],1)],1):e._e()],1),l("el-form",[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("CIpv6FiveMetaMsg")}}},[e._v("立即创建")]),l("el-button",{on:{click:function(t){return e.resetForm("CIpv6FiveMetaMsg")}}},[e._v("重置")])],1)],1)],1)},g=[],f={name:"addipv6",props:{domain:{type:Array},user:{type:String}},data:function(){return{compoundRuleType:[{label:"fixchar/imsi",compoundRuleType:[{CompoundRuleType:4,label:"固定位置特征码规则",disabled:!0},{CompoundRuleType:11,label:"imsi规则",disabled:!0}]},{label:"其他规则",compoundRuleType:[{CompoundRuleType:7,label:"全包浮动特征码规则"},{CompoundRuleType:6,label:"window规则"},{CompoundRuleType:26,label:"url规则"},{CompoundRuleType:27,label:"url-host规则"},{CompoundRuleType:28,label:"url-uri规则"}]}],CompoundRuleType:0,CIpv6FiveMetaMsg:{m_u32AclIndex:"",m_u32ServiceProfileId:"",m_strSrcIpMask:"",m_strDstIpMask:"",m_u32SrcPortMask:"",m_u32DstPortMask:"",m_u32ProtocolMask:"",m_u32RstAclSave:"",m_u32HitStat:"",m_u32MaskFlag:0,m_u32Protocol:"",m_strSrcIp:"",m_strDstIp:"",m_u32SrcPort:"",m_u32DstPort:"",m_u32RuleSource:"",m_u32Priority:"",m_u32CompositeFlag:0,m_u32AgeingTime:"",m_u32RuleNum:"",m_u32Step:"",m_u32Stragety:"",m_u32Location:"",m_u32RuleType:2,m_u32MatchType:"",m_u32InputPortGroupId:"",m_tCompoundMsg:[{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""}]},CIpv6FiveMetaMsgRules:{m_u32AclIndex:[{required:!0,message:"规则ID不能为空",trigger:"blur"},{pattern:/^([1-9]\d{0,6}|1[0-9]\d{6}|2[0-1][0-9]\d{5}|22000000)$/,message:"规则ID必须为数字值且范围为1-22000000",trigger:"blur"}],m_u32ServiceProfileId:[{required:!0,message:"业务策略ID不能为空",trigger:"blur"},{pattern:/^([1-9][0-9]?|1[0-2][0-7])$/,message:"业务策略ID必须为数字值且范围为1-127",trigger:"blur"}],m_u32InputPortGroupId:[{pattern:/^([1-9]\d?|100)$/,message:"输入端口组ID必须为数字值且范围为1-100",trigger:"blur"}],m_u32Priority:[{pattern:/^([1-9]|[1-2][0-9]|3[0-2])$/,message:"优先级必须为数字值且范围为1-32",trigger:"blur"}],m_u32Protocol:[{pattern:/^(tcp|udp|[1-9]\d?|1[0-9]\d|2[0-4][0-9]|25[0-5])$/,message:"协议号为tcp/udp/范围为1-255的数字",trigger:"blur"}],m_u32ProtocolMask:[{pattern:/^(0x[0-9a-fA-F]{1,2})$/,message:"协议号掩码范围为0x00-0xff",trigger:"blur"}],m_u32DstPort:[{pattern:/^([1-9]\d{0,3}|[1-5][0-9]\d{3}|6[0-4][0-9]\d{2}|65[0-4][0-9]\d|655[0-2][0-9]|6553[0-5])$/,message:"端口号必须为数字值且范围为1-65535",trigger:"blur"}],m_u32SrcPort:[{pattern:/^([1-9]\d{0,3}|[1-5][0-9]\d{3}|6[0-4][0-9]\d{2}|65[0-4][0-9]\d|655[0-2][0-9]|6553[0-5])$/,message:"端口号必须为数字值且范围为1-65535",trigger:"blur"}],m_strSrcIp:[{pattern:/^([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){6}(:[0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){5}((:[0-9a-fA-F]{1,4}){1,2}|:)$|^([0-9a-fA-F]{1,4}:){4}((:[0-9a-fA-F]{1,4}){1,3}|:)$|^([0-9a-fA-F]{1,4}:){3}((:[0-9a-fA-F]{1,4}){1,4}|:)$|^([0-9a-fA-F]{1,4}:){2}((:[0-9a-fA-F]{1,4}){1,5}|:)$|^([0-9a-fA-F]{1,4}:)((:[0-9a-fA-F]{1,4}){1,6}|:)$|^:((:[0-9a-fA-F]{1,4}){1,7}|:)/,message:"请输入正确形式的ipv6地址",trigger:"blur"}],m_strDstIp:[{pattern:/^([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){6}(:[0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){5}((:[0-9a-fA-F]{1,4}){1,2}|:)$|^([0-9a-fA-F]{1,4}:){4}((:[0-9a-fA-F]{1,4}){1,3}|:)$|^([0-9a-fA-F]{1,4}:){3}((:[0-9a-fA-F]{1,4}){1,4}|:)$|^([0-9a-fA-F]{1,4}:){2}((:[0-9a-fA-F]{1,4}){1,5}|:)$|^([0-9a-fA-F]{1,4}:)((:[0-9a-fA-F]{1,4}){1,6}|:)$|^:((:[0-9a-fA-F]{1,4}){1,7}|:)/,message:"请输入正确形式的ipv6地址",trigger:"blur"}],m_strSrcIpMask:[{pattern:/^([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){6}(:[0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){5}((:[0-9a-fA-F]{1,4}){1,2}|:)$|^([0-9a-fA-F]{1,4}:){4}((:[0-9a-fA-F]{1,4}){1,3}|:)$|^([0-9a-fA-F]{1,4}:){3}((:[0-9a-fA-F]{1,4}){1,4}|:)$|^([0-9a-fA-F]{1,4}:){2}((:[0-9a-fA-F]{1,4}){1,5}|:)$|^([0-9a-fA-F]{1,4}:)((:[0-9a-fA-F]{1,4}){1,6}|:)$|^:((:[0-9a-fA-F]{1,4}){1,7}|:)/,message:"请输入正确形式的ipv6地址掩码",trigger:"blur"}],m_strDstIpMask:[{pattern:/^([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){6}(:[0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){5}((:[0-9a-fA-F]{1,4}){1,2}|:)$|^([0-9a-fA-F]{1,4}:){4}((:[0-9a-fA-F]{1,4}){1,3}|:)$|^([0-9a-fA-F]{1,4}:){3}((:[0-9a-fA-F]{1,4}){1,4}|:)$|^([0-9a-fA-F]{1,4}:){2}((:[0-9a-fA-F]{1,4}){1,5}|:)$|^([0-9a-fA-F]{1,4}:)((:[0-9a-fA-F]{1,4}){1,6}|:)$|^:((:[0-9a-fA-F]{1,4}){1,7}|:)/,message:"请输入正确形式的ipv6地址掩码",trigger:"blur"}],m_u32SrcPortMask:[{pattern:/^0x[0-9a-fA-F]{1,4}$/,message:"请输入正确形式的端口掩码，最多4字节",trigger:"blur"}],m_u32DstPortMask:[{pattern:/^0x[0-9a-fA-F]{1,4}$/,message:"请输入正确形式的端口掩码，最多4字节",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=JSON.stringify(this.CIpv6FiveMetaMsg),l=JSON.parse(t);if(!1===this.checkCompoundRuleId(l))return!1;this.checkMaskFlag(l),this.checkRuleType(l),this.setIpPortProtocolDefaultValue(l),"tcp"===l.m_u32Protocol&&(l.m_u32Protocol="6"),"udp"===l.m_u32Protocol&&(l.m_u32Protocol="17");var o={domainId:this.domain[1],domainType:this.domain[0],username:this.user,ruleType:"ipv6",ruleAction:"add",param:l};console.log(o),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(m["a"])(o).then((function(e){console.log(e),alert(e.data.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields()},checkRuleType:function(e){for(var t=0;t<e.m_tCompoundMsg.length;t++)return 4===e.m_tCompoundMsg[t].m_u32RuleType?void(e.m_u32RuleType=21):11===e.m_tCompoundMsg[t].m_u32RuleType?void(e.m_u32RuleType=31):void(e.m_u32RuleType=22)},checkMaskFlag:function(e){""!==e.m_u32InputPortGroupId?""===e.m_strSrcIpMask&&""===e.m_strDstIpMask&&""===e.m_u32DstPortMask&&""===e.m_u32SrcPortMask&&""===e.m_u32ProtocolMask||(e.m_u32MaskFlag=1):e.m_u32MaskFlag=0},setIpPortProtocolDefaultValue:function(e){""===e.m_strSrcIp&&(e.m_strSrcIp="0:0:0:0:0:0:0:0",e.m_strSrcIpMask="0:0:0:0:0:0:0:0"),""!==e.m_strSrcIp&&""===e.m_strSrcIpMask&&(e.m_strSrcIpMask="ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff"),""===e.m_strDstIp&&(e.m_strDstIp="0:0:0:0:0:0:0:0",e.m_strDstIpMask="0:0:0:0:0:0:0:0"),""!==e.m_strDstIp&&""===e.m_strDstIpMask&&(e.m_strDstIpMask="ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff"),""===e.m_u32SrcPort&&(e.m_u32SrcPortMask="0"),""!==e.m_u32SrcPort&&""===e.m_u32SrcPortMask&&(e.m_u32SrcPortMask="0xffffffff"),""===e.m_u32DstPort&&(e.m_u32DstPortMask="0"),""!==e.m_u32DstPort&&""===e.m_u32DstPortMask&&(e.m_u32DstPortMask="0xffffffff"),""===e.m_u32Protocol&&(e.m_u32ProtocolMask="0"),""!==e.m_u32Protocol&&""===e.m_u32ProtocolMask&&(e.m_u32ProtocolMask="0xffffffff")},checkCompoundRuleId:function(e){if("0"===e.m_u32CompositeFlag)e.m_tCompoundMsg=[];else for(var t=[4,6,7,10,26,27,28],l=0;l<5;l++){if(-1!==t.indexOf(e.m_tCompoundMsg[l].m_u32RuleType)&&""===e.m_tCompoundMsg[l].m_u32RelateId)return alert("请输入复合规则ID"),!1;if(""===e.m_tCompoundMsg[l].m_u32RuleType&&""!==e.m_tCompoundMsg[l].m_u32RelateId)return alert("请选择复合规则类型"),!1}}}},C=f,M=Object(p["a"])(C,_,g,!1,null,"0adc5114",null),y=M.exports,v=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"addfixchar"}},[l("el-form",{ref:"CFixedLocCharCodeMsg",staticStyle:{"margin-left":"220px"},attrs:{model:e.CFixedLocCharCodeMsg,rules:e.CFixedLocCharCodeMsgRules,"label-width":"100px",inline:!0}},[l("el-row",[l("el-form-item",{attrs:{label:"规则ID",prop:"m_u32AclIndex"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CFixedLocCharCodeMsg.m_u32AclIndex,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32AclIndex",e._n(t))},expression:"CFixedLocCharCodeMsg.m_u32AclIndex"}})],1),l("el-form-item",{staticStyle:{"margin-left":"405px"}})],1),l("el-row",[l("el-form-item",{attrs:{label:"是否复合",prop:"m_u32IsComPound"}},[l("el-radio-group",{model:{value:e.CFixedLocCharCodeMsg.m_u32IsComPound,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32IsComPound",t)},expression:"CFixedLocCharCodeMsg.m_u32IsComPound"}},[l("el-radio",{attrs:{label:"0"}},[e._v("业务策略")]),l("el-radio",{attrs:{label:"1"}},[e._v("复合")])],1)],1),l("el-form-item",{staticStyle:{"margin-left":"450px"}})],1),"0"===e.CFixedLocCharCodeMsg.m_u32IsComPound?l("el-row",[l("el-form-item",{attrs:{label:"业务策略ID",prop:"m_u32ServiceProfileId"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CFixedLocCharCodeMsg.m_u32ServiceProfileId,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32ServiceProfileId",e._n(t))},expression:"CFixedLocCharCodeMsg.m_u32ServiceProfileId"}})],1),l("el-form-item",{staticStyle:{"margin-left":"405px"}})],1):e._e(),l("el-row",[l("el-form-item",{attrs:{label:"特征码偏移",prop:"m_u32BeginPos"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"length:0~70"},model:{value:e.CFixedLocCharCodeMsg.m_u32BeginPos,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32BeginPos",e._n(t))},expression:"CFixedLocCharCodeMsg.m_u32BeginPos"}})],1),l("el-form-item",{attrs:{label:"关键字长度",prop:"m_u32KeyCodeLen"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"length:2~64"},model:{value:e.CFixedLocCharCodeMsg.m_u32KeyCodeLen,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32KeyCodeLen",e._n(t))},expression:"CFixedLocCharCodeMsg.m_u32KeyCodeLen"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"关键字",prop:"m_strKeyCode"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CFixedLocCharCodeMsg.m_strKeyCode,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_strKeyCode",t)},expression:"CFixedLocCharCodeMsg.m_strKeyCode"}})],1),l("el-form-item",{attrs:{label:"关键字掩码",prop:"m_strKeyCodeMask"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CFixedLocCharCodeMsg.m_strKeyCodeMask,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_strKeyCodeMask",t)},expression:"CFixedLocCharCodeMsg.m_strKeyCodeMask"}})],1)],1),"0"===e.CFixedLocCharCodeMsg.m_u32IsComPound?l("el-row",[l("el-form-item",{attrs:{label:"源端口",prop:"m_u32SrcPort"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CFixedLocCharCodeMsg.m_u32SrcPort,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32SrcPort",e._n(t))},expression:"CFixedLocCharCodeMsg.m_u32SrcPort"}})],1),l("el-form-item",{attrs:{label:"源端口掩码",prop:"m_u32SrcPortMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CFixedLocCharCodeMsg.m_u32SrcPortMask,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32SrcPortMask",t)},expression:"CFixedLocCharCodeMsg.m_u32SrcPortMask"}})],1)],1):e._e(),"0"===e.CFixedLocCharCodeMsg.m_u32IsComPound?l("el-row",[l("el-form-item",{attrs:{label:"目的端口",prop:"m_u32DstPort"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CFixedLocCharCodeMsg.m_u32DstPort,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32DstPort",e._n(t))},expression:"CFixedLocCharCodeMsg.m_u32DstPort"}})],1),l("el-form-item",{attrs:{label:"目的端口掩码",prop:"m_u32DstPortMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CFixedLocCharCodeMsg.m_u32DstPortMask,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32DstPortMask",t)},expression:"CFixedLocCharCodeMsg.m_u32DstPortMask"}})],1)],1):e._e(),"0"===e.CFixedLocCharCodeMsg.m_u32IsComPound?l("el-row",[l("el-form-item",{attrs:{label:"协议号",prop:"m_u32Protocol"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CFixedLocCharCodeMsg.m_u32Protocol,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32Protocol",t)},expression:"CFixedLocCharCodeMsg.m_u32Protocol"}})],1),l("el-form-item",{attrs:{label:"协议掩码",prop:"m_u32ProtocolMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CFixedLocCharCodeMsg.m_u32ProtocolMask,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32ProtocolMask",t)},expression:"CFixedLocCharCodeMsg.m_u32ProtocolMask"}})],1)],1):e._e(),l("el-row",[l("el-form-item",{attrs:{label:"输入端口组ID",prop:"m_u32InputPortGroupId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CFixedLocCharCodeMsg.m_u32InputPortGroupId,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32InputPortGroupId",e._n(t))},expression:"CFixedLocCharCodeMsg.m_u32InputPortGroupId"}})],1),"0"===e.CFixedLocCharCodeMsg.m_u32IsComPound?l("el-form-item",{attrs:{label:"优先级",prop:"m_u32Priority"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CFixedLocCharCodeMsg.m_u32Priority,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32Priority",e._n(t))},expression:"CFixedLocCharCodeMsg.m_u32Priority"}})],1):e._e(),l("el-form-item",{staticStyle:{"margin-left":"405px"}})],1),l("el-row",[l("el-form-item",{attrs:{label:"重启保存",prop:"m_u32RstAclSave"}},[l("el-radio-group",{model:{value:e.CFixedLocCharCodeMsg.m_u32RstAclSave,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32RstAclSave",t)},expression:"CFixedLocCharCodeMsg.m_u32RstAclSave"}},[l("el-radio",{attrs:{label:"1"}},[e._v("不保存")]),l("el-radio",{attrs:{label:"0"}},[e._v("保存")])],1)],1),l("el-form-item",{attrs:{label:"中标统计",prop:"m_u32HitStat"}},[l("el-radio-group",{model:{value:e.CFixedLocCharCodeMsg.m_u32HitStat,callback:function(t){e.$set(e.CFixedLocCharCodeMsg,"m_u32HitStat",t)},expression:"CFixedLocCharCodeMsg.m_u32HitStat"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不统计")]),l("el-radio",{attrs:{label:"1"}},[e._v("统计")])],1)],1)],1)],1),l("el-form",[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("CFixedLocCharCodeMsg")}}},[e._v("提交")]),l("el-button",{on:{click:function(t){return e.resetForm("CFixedLocCharCodeMsg")}}},[e._v("重置")])],1)],1)],1)},I=[],b={name:"addfixchar",data:function(){return{CFixedLocCharCodeMsg:{m_u32Protocol:"",m_u32ProtocolMask:"",m_strKeyCode:"",m_strKeyCodeMask:"",m_u32ServiceProfileId:"",m_u32RstAclSave:"",m_u32HitStat:"",m_u32IsComPound:"",m_u32BeginPos:"",m_u32KeyCodeLen:"",m_u32AclIndex:"",m_u32RuleSource:"",m_u32Priority:"",m_u32RuleNum:"",m_u32AgeingTime:"",m_u32Step:"",m_u32Location:"",m_u32SrcPort:"",m_u32SrcPortMask:"",m_u32DstPort:"",m_u32DstPortMask:"",m_u32InputPortGroupId:"",m_u32OutputPktAction:"",m_u32OutputPktNum:""},CFixedLocCharCodeMsgRules:{m_u32AclIndex:[{required:!0,message:"规则ID不能为空",trigger:"blur"},{pattern:/^([1-9]\d{0,6}|1[0-9]\d{6}|2[0-1][0-9]\d{5}|22000000)$/,message:"规则ID必须为数字值且范围为1-22000000",trigger:"blur"}],m_u32IsComPound:[{required:!0,message:"请选择业务策略组或复合规则"}],m_u32ServiceProfileId:[{pattern:/^([1-9][0-9]?|1[0-2][0-7])$/,message:"业务策略ID必须为数字值且范围为1-127",trigger:"blur"}],m_u32BeginPos:[{required:!0,message:"偏移量不能为空",trigger:"blur"},{pattern:/^([0-9]|[1-6][0-9]|70)$/,message:"偏移量必须为数字值且范围为0-70",trigger:"blur"}],m_u32KeyCodeLen:[{required:!0,message:"关键字长度不能为空",trigger:"blur"},{pattern:/^([2-9]|[1-5][0-9]|6[0-4])$/,message:"关键字长度为2~64",trigger:"blur"}],m_strKeyCode:[{required:!0,message:"关键字不能为空",trigger:"blur"},{pattern:/(^0x[0-9a-fA-F]{2,}$)|(^[^0][^x].*)/,message:"请输入正确形式的关键字",trigger:"blur"}],m_strKeyCodeMask:[{pattern:/(^0x[0-9a-fA-F]{2,}$)|(^[^0][^x].*)/,message:"请输入正确形式的关键字掩码",trigger:"blur"}],m_u32InputPortGroupId:[{pattern:/^([1-9]\d?|100)$/,message:"输入端口组ID必须为数字值且范围为1-100",trigger:"blur"}],m_u32Priority:[{pattern:/^([1-9]|[1-2][0-9]|3[0-2])$/,message:"优先级必须为数字值且范围为1-32",trigger:"blur"}],m_u32Protocol:[{pattern:/^(tcp|udp|[1-9]\d?|1[0-9]\d|2[0-4][0-9]|25[0-5])$/,message:"协议号为tcp/udp/范围为1-255的数字",trigger:"blur"}],m_u32ProtocolMask:[{pattern:/^(0x[0-9a-fA-F]{1,2})$/,message:"协议号掩码范围为0x00-0xff",trigger:"blur"}],m_u32DstPort:[{pattern:/^([1-9]\d{0,3}|[1-5][0-9]\d{3}|6[0-4][0-9]\d{2}|65[0-4][0-9]\d|655[0-2][0-9]|6553[0-5])$/,message:"端口号必须为数字值且范围为1-65535",trigger:"blur"}],m_u32SrcPort:[{pattern:/^([1-9]\d{0,3}|[1-5][0-9]\d{3}|6[0-4][0-9]\d{2}|65[0-4][0-9]\d|655[0-2][0-9]|6553[0-5])$/,message:"端口号必须为数字值且范围为1-65535",trigger:"blur"}],m_u32SrcPortMask:[{pattern:/^0x[0-9a-fA-F]{1,4}$/,message:"请输入正确形式的端口掩码，最多4字节",trigger:"blur"}],m_u32DstPortMask:[{pattern:/^0x[0-9a-fA-F]{1,4}$/,message:"请输入正确形式的端口掩码，最多4字节",trigger:"blur"}]}}},props:{domain:{type:Array},user:{type:String}},methods:{submitForm:function(e){var t=JSON.stringify(this.CFixedLocCharCodeMsg),l=JSON.parse(t);if(!1===this.checkKeycode(l))return!1;this.setIpPortProtocolDefaultValue(l),"tcp"===l.m_u32Protocol&&(l.m_u32Protocol="6"),"udp"===l.m_u32Protocol&&(l.m_u32Protocol="17");var o={domainId:this.domain[1],domainType:this.domain[0],username:this.user,ruleType:"fix-char",ruleAction:"add",param:l};this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(m["a"])(o).then((function(e){console.log(e),alert(e.data.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields()},setIpPortProtocolDefaultValue:function(e){if(""===e.m_u32SrcPort&&(e.m_u32SrcPortMask="0"),""!==e.m_u32SrcPort&&""===e.m_u32SrcPortMask&&(e.m_u32SrcPortMask="0xffffffff"),""===e.m_u32DstPort&&(e.m_u32DstPortMask="0"),""!==e.m_u32DstPort&&""===e.m_u32DstPortMask&&(e.m_u32DstPortMask="0xffffffff"),""===e.m_u32Protocol&&(e.m_u32ProtocolMask="0"),""!==e.m_u32Protocol&&""===e.m_u32ProtocolMask&&(e.m_u32ProtocolMask="0xffffffff"),""===e.m_strKeyCodeMask){e.m_strKeyCodeMask="0x";for(var t=0;t<e.m_u32KeyCodeLen;t++)e.m_strKeyCodeMask+="ff"}},checkKeycode:function(e){if(0!==e.m_strKeyCode.indexOf("0x",0)){if(2*e.m_strKeyCode.length>130)return alert("param keycode is out of 64byte error!"),!1;if((e.m_strKeyCodeMask.length-2)%2!==0)return alert("KeyCodeMask should be ByteAligned!"),!1;if(e.m_strKeyCode.length!==e.m_u32KeyCodeLen)return alert("keycode's length: "+e.m_strKeyCode.length+" is not equal to keycodelen: "+e.m_u32KeyCodeLen),!1;if(""!==e.m_strKeyCodeMask&&2*e.m_strKeyCode.length!==e.m_strKeyCodeMask.length-2)return alert("keycodemask's length: "+(e.m_strKeyCodeMask.length-2)/2+" is not equal to keycode's length: "+e.m_strKeyCode.length),!1}else if(0===e.m_strKeyCode.indexOf("0x",0)){if(e.m_strKeyCode.length>130)return alert("param keycode is out of 64byte error!"),!1;if(e.m_strKeyCode.length%2!==0)return alert("KeyCode should be ByteAligned!"),!1;if((e.m_strKeyCodeMask.length-2)%2!==0)return alert("KeyCodeMask should be ByteAligned!"),!1;if((e.m_strKeyCode.length-2)/2!==e.m_u32KeyCodeLen)return alert("keycode's length: "+(e.m_strKeyCode.length-2)/2+" is not equal to keycodelen: "+e.m_u32KeyCodeLen),!1;if(""!==e.m_strKeyCodeMask&&e.m_strKeyCode.length!==e.m_strKeyCodeMask.length)return alert("keycodemask's length: "+(e.m_strKeyCodeMask.length-2)/2+" is not equal to keycode's length: "+(e.m_strKeyCode.length-2)/2),!1}}}},R=b,P=Object(p["a"])(R,v,I,!1,null,"1cf08aa1",null),T=P.exports,k=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"addfullchar"}},[l("el-form",{ref:"CFullPackCharCodeMsg",staticStyle:{"margin-left":"220px"},attrs:{model:e.CFullPackCharCodeMsg,rules:e.CFullPackCharCodeMsgRules,"label-width":"100px",inline:!0}},[l("el-row",[l("el-form-item",{attrs:{label:"规则ID",prop:"m_u32AclIndex"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CFullPackCharCodeMsg.m_u32AclIndex,callback:function(t){e.$set(e.CFullPackCharCodeMsg,"m_u32AclIndex",e._n(t))},expression:"CFullPackCharCodeMsg.m_u32AclIndex"}})],1),l("el-form-item",{staticStyle:{"margin-left":"405px"}})],1),l("el-row",[l("el-form-item",{attrs:{label:"是否复合",prop:"m_u32IsComPound"}},[l("el-radio-group",{model:{value:e.CFullPackCharCodeMsg.m_u32IsComPound,callback:function(t){e.$set(e.CFullPackCharCodeMsg,"m_u32IsComPound",t)},expression:"CFullPackCharCodeMsg.m_u32IsComPound"}},[l("el-radio",{attrs:{label:"0"}},[e._v("业务策略")]),l("el-radio",{attrs:{label:"1"}},[e._v("复合")])],1)],1),l("el-form-item",{staticStyle:{"margin-left":"450px"}})],1),"0"===e.CFullPackCharCodeMsg.m_u32IsComPound?l("el-row",[l("el-form-item",{attrs:{label:"业务策略ID",prop:"m_u32ServiceProfileId"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CFullPackCharCodeMsg.m_u32ServiceProfileId,callback:function(t){e.$set(e.CFullPackCharCodeMsg,"m_u32ServiceProfileId",e._n(t))},expression:"CFullPackCharCodeMsg.m_u32ServiceProfileId"}})],1),l("el-form-item",{staticStyle:{"margin-left":"405px"}})],1):e._e(),l("el-row",[l("el-form-item",{attrs:{label:"关键字长度",prop:"m_u32KeyCodeLen"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"length:2~64"},model:{value:e.CFullPackCharCodeMsg.m_u32KeyCodeLen,callback:function(t){e.$set(e.CFullPackCharCodeMsg,"m_u32KeyCodeLen",e._n(t))},expression:"CFullPackCharCodeMsg.m_u32KeyCodeLen"}})],1),l("el-form-item",{staticStyle:{"margin-left":"405px"}})],1),l("el-row",[l("el-form-item",{attrs:{label:"关键字",prop:"m_strKeyCode"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CFullPackCharCodeMsg.m_strKeyCode,callback:function(t){e.$set(e.CFullPackCharCodeMsg,"m_strKeyCode",t)},expression:"CFullPackCharCodeMsg.m_strKeyCode"}})],1),l("el-form-item",{attrs:{label:"关键字掩码",prop:"m_strKeyCodeMask"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CFullPackCharCodeMsg.m_strKeyCodeMask,callback:function(t){e.$set(e.CFullPackCharCodeMsg,"m_strKeyCodeMask",t)},expression:"CFullPackCharCodeMsg.m_strKeyCodeMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"输入端口组ID",prop:"m_u32InputPortGroupId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CFullPackCharCodeMsg.m_u32InputPortGroupId,callback:function(t){e.$set(e.CFullPackCharCodeMsg,"m_u32InputPortGroupId",e._n(t))},expression:"CFullPackCharCodeMsg.m_u32InputPortGroupId"}})],1),l("el-form-item",{attrs:{label:"优先级",prop:"m_u32Priority"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CFullPackCharCodeMsg.m_u32Priority,callback:function(t){e.$set(e.CFullPackCharCodeMsg,"m_u32Priority",e._n(t))},expression:"CFullPackCharCodeMsg.m_u32Priority"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"重启保存",prop:"m_u32RstAclSave"}},[l("el-radio-group",{model:{value:e.CFullPackCharCodeMsg.m_u32RstAclSave,callback:function(t){e.$set(e.CFullPackCharCodeMsg,"m_u32RstAclSave",t)},expression:"CFullPackCharCodeMsg.m_u32RstAclSave"}},[l("el-radio",{attrs:{label:"1"}},[e._v("不保存")]),l("el-radio",{attrs:{label:"0"}},[e._v("保存")])],1)],1),l("el-form-item",{attrs:{label:"中标统计",prop:"m_u32HitStat"}},[l("el-radio-group",{model:{value:e.CFullPackCharCodeMsg.m_u32HitStat,callback:function(t){e.$set(e.CFullPackCharCodeMsg,"m_u32HitStat",t)},expression:"CFullPackCharCodeMsg.m_u32HitStat"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不统计")]),l("el-radio",{attrs:{label:"1"}},[e._v("统计")])],1)],1),"0"===e.CFullPackCharCodeMsg.m_u32IsComPound?l("el-form-item",{attrs:{label:"复合规则",prop:"isRelated"}},[l("el-radio-group",{model:{value:e.CFullPackCharCodeMsg.isRelated,callback:function(t){e.$set(e.CFullPackCharCodeMsg,"isRelated",t)},expression:"CFullPackCharCodeMsg.isRelated"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不复合")]),l("el-radio",{attrs:{label:"1"}},[e._v("复合")])],1)],1):e._e()],1),"1"===e.CFullPackCharCodeMsg.isRelated&&"0"===e.CFullPackCharCodeMsg.m_u32IsComPound?l("el-row",[l("el-row",[l("el-form-item",{attrs:{label:"复合1类型",prop:"m_tRelateRule[0].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CFullPackCharCodeMsg.m_tRelateRule[0].m_u32RuleType,callback:function(t){e.$set(e.CFullPackCharCodeMsg.m_tRelateRule[0],"m_u32RuleType",e._n(t))},expression:"CFullPackCharCodeMsg.m_tRelateRule[0].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType}})})),1)],1),l("el-form-item",{attrs:{label:"复合1ID",prop:"m_tRelateRule[0].m_u32RuleId"}},[l("el-input",{model:{value:e.CFullPackCharCodeMsg.m_tRelateRule[0].m_u32RuleId,callback:function(t){e.$set(e.CFullPackCharCodeMsg.m_tRelateRule[0],"m_u32RuleId",e._n(t))},expression:"CFullPackCharCodeMsg.m_tRelateRule[0].m_u32RuleId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合2类型",prop:"m_tRelateRule[1].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CFullPackCharCodeMsg.m_tRelateRule[1].m_u32RuleType,callback:function(t){e.$set(e.CFullPackCharCodeMsg.m_tRelateRule[1],"m_u32RuleType",e._n(t))},expression:"CFullPackCharCodeMsg.m_tRelateRule[1].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"复合2ID",prop:"m_tRelateRule[1].m_u32RuleId"}},[l("el-input",{model:{value:e.CFullPackCharCodeMsg.m_tRelateRule[1].m_u32RuleId,callback:function(t){e.$set(e.CFullPackCharCodeMsg.m_tRelateRule[1],"m_u32RuleId",e._n(t))},expression:"CFullPackCharCodeMsg.m_tRelateRule[1].m_u32RuleId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合3类型",prop:"m_tRelateRule[2].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CFullPackCharCodeMsg.m_tRelateRule[2].m_u32RuleType,callback:function(t){e.$set(e.CFullPackCharCodeMsg.m_tRelateRule[2],"m_u32RuleType",e._n(t))},expression:"CFullPackCharCodeMsg.m_tRelateRule[2].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"复合3ID",prop:"m_tRelateRule[2].m_u32RuleId"}},[l("el-input",{model:{value:e.CFullPackCharCodeMsg.m_tRelateRule[2].m_u32RuleId,callback:function(t){e.$set(e.CFullPackCharCodeMsg.m_tRelateRule[2],"m_u32RuleId",e._n(t))},expression:"CFullPackCharCodeMsg.m_tRelateRule[2].m_u32RuleId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合4类型",prop:"m_tRelateRule[3].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CFullPackCharCodeMsg.m_tRelateRule[3].m_u32RuleType,callback:function(t){e.$set(e.CFullPackCharCodeMsg.m_tRelateRule[3],"m_u32RuleType",e._n(t))},expression:"CFullPackCharCodeMsg.m_tRelateRule[3].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"复合4ID",prop:"m_tRelateRule[3].m_u32RuleId"}},[l("el-input",{model:{value:e.CFullPackCharCodeMsg.m_tRelateRule[3].m_u32RuleId,callback:function(t){e.$set(e.CFullPackCharCodeMsg.m_tRelateRule[3],"m_u32RuleId",e._n(t))},expression:"CFullPackCharCodeMsg.m_tRelateRule[3].m_u32RuleId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合5类型",prop:"m_tRelateRule[4].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CFullPackCharCodeMsg.m_tRelateRule[4].m_u32RuleType,callback:function(t){e.$set(e.CFullPackCharCodeMsg.m_tRelateRule[4],"m_u32RuleType",e._n(t))},expression:"CFullPackCharCodeMsg.m_tRelateRule[4].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"复合5ID",prop:"m_tRelateRule[4].m_u32RuleId"}},[l("el-input",{model:{value:e.CFullPackCharCodeMsg.m_tRelateRule[4].m_u32RuleId,callback:function(t){e.$set(e.CFullPackCharCodeMsg.m_tRelateRule[4],"m_u32RuleId",e._n(t))},expression:"CFullPackCharCodeMsg.m_tRelateRule[4].m_u32RuleId"}})],1)],1)],1):e._e()],1),l("el-form",[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("CFullPackCharCodeMsg")}}},[e._v("提交")]),l("el-button",{on:{click:function(t){return e.resetForm("CFullPackCharCodeMsg")}}},[e._v("重置")])],1)],1)],1)},F=[],h={name:"addfullchar",props:{domain:{type:Array},user:{type:String}},data:function(){return{CFullPackCharCodeMsg:{m_strKeyCode:"",m_strKeyCodeMask:"",m_u32ServiceProfileId:"",m_u32RstAclSave:"",m_u32HitStat:"",m_u32IsComPound:"",m_u32KeyCodeLen:"",m_u32AclIndex:"",m_u32RuleSource:"",m_u32Priority:"",m_u32RuleNum:"",m_u32AgeingTime:"",m_u32Step:"",m_u32Location:"",m_u32InputPortGroupId:"",m_u32RuleType:"",isRelated:"",m_tRelateRule:[{m_u32RuleType:"",m_u32RuleId:""},{m_u32RuleType:"",m_u32RuleId:""},{m_u32RuleType:"",m_u32RuleId:""},{m_u32RuleType:"",m_u32RuleId:""},{m_u32RuleType:"",m_u32RuleId:""}]},CFullPackCharCodeMsgRules:{m_u32AclIndex:[{required:!0,message:"规则ID不能为空",trigger:"blur"},{pattern:/^([1-9]\d{0,6}|1[0-9]\d{6}|2[0-1][0-9]\d{5}|22000000)$/,message:"规则ID必须为数字值且范围为1-22000000",trigger:"blur"}],m_u32IsComPound:[{required:!0,message:"请选择业务策略组或复合规则"}],m_u32ServiceProfileId:[{pattern:/^([1-9][0-9]?|1[0-2][0-7])$/,message:"业务策略ID必须为数字值且范围为1-127",trigger:"blur"}],m_u32KeyCodeLen:[{required:!0,message:"关键字长度不能为空",trigger:"blur"},{pattern:/^([2-9]|[1-5][0-9]|6[0-4])$/,message:"关键字长度为2~64",trigger:"blur"}],m_strKeyCode:[{required:!0,message:"关键字不能为空",trigger:"blur"},{pattern:/(^0x[0-9a-fA-F]{2,}$)|(^[^0][^x].*)/,message:"请输入正确形式的关键字",trigger:"blur"}],m_strKeyCodeMask:[{pattern:/(^0x[0-9a-fA-F]{2,}$)|(^[^0][^x].*)/,message:"请输入正确形式的关键字掩码",trigger:"blur"}],m_u32InputPortGroupId:[{pattern:/^([1-9]\d?|100)$/,message:"输入端口组ID必须为数字值且范围为1-100",trigger:"blur"}],m_u32Priority:[{pattern:/^([1-9]|[1-2][0-9]|3[0-2])$/,message:"优先级必须为数字值且范围为1-32",trigger:"blur"}]},compoundRuleType:[{CompoundRuleType:7,label:"全包浮动特征码规则"},{CompoundRuleType:6,label:"window规则"},{CompoundRuleType:26,label:"url规则",disabled:!0}],CompoundRuleType:0}},methods:{submitForm:function(e){var t=JSON.stringify(this.CFullPackCharCodeMsg),l=JSON.parse(t);if(!1===this.checkKeycode(l))return!1;if(!1===this.checkRelateRuleId(l))return!1;if(this.checkIsCompound(l),""===l.m_strKeyCodeMask){l.m_strKeyCodeMask="0x";for(var o=0;o<l.m_u32KeyCodeLen;o++)l.m_strKeyCodeMask+="ff"}var a={domainId:this.domain[1],domainType:this.domain[0],username:this.user,ruleType:"full-char",ruleAction:"add",param:l};console.log(a),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(m["a"])(a).then((function(e){console.log(e),alert(e.data.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields()},checkRelateRuleId:function(e){for(var t=[6,7,26],l=0;l<5;l++){if(-1!==t.indexOf(e.m_tRelateRule[l].m_u32RuleType)&&""===e.m_tRelateRule[l].m_u32RuleId)return alert("请输入复合规则ID"),!1;if(""===e.m_tRelateRule[l].m_u32RuleType&&""!==e.m_tRelateRule[l].m_u32RuleId)return alert("请选择复合规则类型"),!1}},checkIsCompound:function(e){"1"===e.isRelated&&(e.m_u32IsComPound=1)},checkKeycode:function(e){if(0!==e.m_strKeyCode.indexOf("0x",0)){if(2*e.m_strKeyCode.length>130)return alert("param keycode is out of 64byte error!"),!1;if((e.m_strKeyCodeMask.length-2)%2!==0)return alert("KeyCodeMask should be ByteAligned!"),!1;if(e.m_strKeyCode.length!==e.m_u32KeyCodeLen)return alert("keycode's length: "+e.m_strKeyCode.length+" is not equal to keycodelen: "+e.m_u32KeyCodeLen),!1;if(""!==e.m_strKeyCodeMask&&2*e.m_strKeyCode.length!==e.m_strKeyCodeMask.length-2)return alert("keycodemask's length: "+(e.m_strKeyCodeMask.length-2)/2+" is not equal to keycode's length: "+e.m_strKeyCode.length),!1}else if(0===e.m_strKeyCode.indexOf("0x",0)){if(e.m_strKeyCode.length>130)return alert("param keycode is out of 64byte error!"),!1;if(e.m_strKeyCode.length%2!==0)return alert("KeyCode should be ByteAligned!"),!1;if((e.m_strKeyCodeMask.length-2)%2!==0)return alert("KeyCodeMask should be ByteAligned!"),!1;if((e.m_strKeyCode.length-2)/2!==e.m_u32KeyCodeLen)return alert("keycode's length: "+(e.m_strKeyCode.length-2)/2+" is not equal to keycodelen: "+e.m_u32KeyCodeLen),!1;if(""!==e.m_strKeyCodeMask&&e.m_strKeyCode.length!==e.m_strKeyCodeMask.length)return alert("keycodemask's length: "+(e.m_strKeyCodeMask.length-2)/2+" is not equal to keycode's length: "+(e.m_strKeyCode.length-2)/2),!1}}}},S=h,x=Object(p["a"])(S,k,F,!1,null,"21d79596",null),$=x.exports,A=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"addvlan"}},[l("el-form",{ref:"CVlanMsg",staticStyle:{"margin-left":"220px"},attrs:{model:e.CVlanMsg,rules:e.CVlanMsgRules,"label-width":"100px",inline:!0}},[l("el-row",[l("el-form-item",{attrs:{label:"规则ID",prop:"m_u32AclIndex"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CVlanMsg.m_u32AclIndex,callback:function(t){e.$set(e.CVlanMsg,"m_u32AclIndex",e._n(t))},expression:"CVlanMsg.m_u32AclIndex"}})],1),l("el-form-item",{attrs:{label:"业务策略ID",prop:"m_u32ServiceProfileId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CVlanMsg.m_u32ServiceProfileId,callback:function(t){e.$set(e.CVlanMsg,"m_u32ServiceProfileId",e._n(t))},expression:"CVlanMsg.m_u32ServiceProfileId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"内层VlanID",prop:"m_tVlanTypeMsg[0].m_u32VlanId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CVlanMsg.m_tVlanTypeMsg[0].m_u32VlanId,callback:function(t){e.$set(e.CVlanMsg.m_tVlanTypeMsg[0],"m_u32VlanId",t)},expression:"CVlanMsg.m_tVlanTypeMsg[0].m_u32VlanId"}})],1),l("el-form-item",{attrs:{label:"ID掩码",prop:"m_tVlanTypeMsg[0].m_u32VlanIdMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CVlanMsg.m_tVlanTypeMsg[0].m_u32VlanIdMask,callback:function(t){e.$set(e.CVlanMsg.m_tVlanTypeMsg[0],"m_u32VlanIdMask",t)},expression:"CVlanMsg.m_tVlanTypeMsg[0].m_u32VlanIdMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"一层VlanID",prop:"m_tVlanTypeMsg[1].m_u32VlanId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CVlanMsg.m_tVlanTypeMsg[1].m_u32VlanId,callback:function(t){e.$set(e.CVlanMsg.m_tVlanTypeMsg[1],"m_u32VlanId",t)},expression:"CVlanMsg.m_tVlanTypeMsg[1].m_u32VlanId"}})],1),l("el-form-item",{attrs:{label:"ID掩码",prop:"m_tVlanTypeMsg[1].m_u32VlanIdMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CVlanMsg.m_tVlanTypeMsg[1].m_u32VlanIdMask,callback:function(t){e.$set(e.CVlanMsg.m_tVlanTypeMsg[1],"m_u32VlanIdMask",t)},expression:"CVlanMsg.m_tVlanTypeMsg[1].m_u32VlanIdMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"二层VlanID",prop:"m_tVlanTypeMsg[2].m_u32VlanId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CVlanMsg.m_tVlanTypeMsg[2].m_u32VlanId,callback:function(t){e.$set(e.CVlanMsg.m_tVlanTypeMsg[2],"m_u32VlanId",t)},expression:"CVlanMsg.m_tVlanTypeMsg[2].m_u32VlanId"}})],1),l("el-form-item",{attrs:{label:"ID掩码",prop:"m_tVlanTypeMsg[2].m_u32VlanIdMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CVlanMsg.m_tVlanTypeMsg[2].m_u32VlanIdMask,callback:function(t){e.$set(e.CVlanMsg.m_tVlanTypeMsg[2],"m_u32VlanIdMask",t)},expression:"CVlanMsg.m_tVlanTypeMsg[2].m_u32VlanIdMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"三层VlanID",prop:"m_tVlanTypeMsg[3].m_u32VlanId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CVlanMsg.m_tVlanTypeMsg[3].m_u32VlanId,callback:function(t){e.$set(e.CVlanMsg.m_tVlanTypeMsg[3],"m_u32VlanId",t)},expression:"CVlanMsg.m_tVlanTypeMsg[3].m_u32VlanId"}})],1),l("el-form-item",{attrs:{label:"ID掩码",prop:"m_tVlanTypeMsg[3].m_u32VlanIdMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CVlanMsg.m_tVlanTypeMsg[3].m_u32VlanIdMask,callback:function(t){e.$set(e.CVlanMsg.m_tVlanTypeMsg[3],"m_u32VlanIdMask",t)},expression:"CVlanMsg.m_tVlanTypeMsg[3].m_u32VlanIdMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"输入端口组ID",prop:"m_u32InputPortGroup"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CVlanMsg.m_u32InputPortGroup,callback:function(t){e.$set(e.CVlanMsg,"m_u32InputPortGroup",e._n(t))},expression:"CVlanMsg.m_u32InputPortGroup"}})],1),l("el-form-item",{attrs:{label:"优先级",prop:"m_u32Priority"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CVlanMsg.m_u32Priority,callback:function(t){e.$set(e.CVlanMsg,"m_u32Priority",e._n(t))},expression:"CVlanMsg.m_u32Priority"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"重启保存",prop:"m_u32RstAclSave"}},[l("el-radio-group",{model:{value:e.CVlanMsg.m_u32RstAclSave,callback:function(t){e.$set(e.CVlanMsg,"m_u32RstAclSave",t)},expression:"CVlanMsg.m_u32RstAclSave"}},[l("el-radio",{attrs:{label:"1"}},[e._v("不保存")]),l("el-radio",{attrs:{label:"0"}},[e._v("保存")])],1)],1),l("el-form-item",{attrs:{label:"中标统计",prop:"m_u32HitStat"}},[l("el-radio-group",{model:{value:e.CVlanMsg.m_u32HitStat,callback:function(t){e.$set(e.CVlanMsg,"m_u32HitStat",t)},expression:"CVlanMsg.m_u32HitStat"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不统计")]),l("el-radio",{attrs:{label:"1"}},[e._v("统计")])],1)],1)],1)],1),l("el-form",[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("CVlanMsg")}}},[e._v("立即创建")]),l("el-button",{on:{click:function(t){return e.resetForm("CVlanMsg")}}},[e._v("重置")])],1)],1)],1)},w=[],D={name:"addvlan",props:{domain:{type:Array},user:{type:String}},data:function(){return{CVlanMsg:{m_u32AclIndex:"",m_u32ServiceProfileId:"",m_u32InputPortGroup:"",m_u32RuleSource:"",m_u32Priority:"",m_u32RstAclSave:"",m_u32HitStat:"",m_tVlanTypeMsg:[{m_u32VlanType:"",m_u32VlanId:"",m_u32VlanIdMask:""},{m_u32VlanType:"",m_u32VlanId:"",m_u32VlanIdMask:""},{m_u32VlanType:"",m_u32VlanId:"",m_u32VlanIdMask:""},{m_u32VlanType:"",m_u32VlanId:"",m_u32VlanIdMask:""}]},CVlanMsgRules:{m_u32AclIndex:[{required:!0,message:"规则ID不能为空",trigger:"blur"},{pattern:/^([1-9]\d{0,6}|1[0-9]\d{6}|2[0-1][0-9]\d{5}|22000000)$/,message:"规则ID必须为数字值且范围为1-22000000",trigger:"blur"}],m_u32ServiceProfileId:[{required:!0,message:"业务策略ID不能为空",trigger:"blur"},{pattern:/^([1-9][0-9]?|1[0-2][0-7])$/,message:"业务策略ID必须为数字值且范围为1-127",trigger:"blur"}],m_u32InputPortGroup:[{pattern:/^([1-9]\d?|100)$/,message:"输入端口组ID必须为数字值且范围为1-100",trigger:"blur"}],m_u32Priority:[{pattern:/^([1-9]|[1-2][0-9]|3[0-2])$/,message:"优先级必须为数字值且范围为1-32",trigger:"blur"}],"m_tVlanTypeMsg[0].m_u32VlanId":[{pattern:/^(0x[0-9a-fA-F]{1,4})$/,message:"vlanId范围为0x0-0xffff",trigger:"blur"}],"m_tVlanTypeMsg[0].m_u32VlanIdMask":[{pattern:/^(0x[0-9a-fA-F]{1,4})$/,message:"掩码范围为0x0-0xffff",trigger:"blur"}],"m_tVlanTypeMsg[1].m_u32VlanId":[{pattern:/^(0x[0-9a-fA-F]{1,4})$/,message:"vlanId范围为0x0-0xffff",trigger:"blur"}],"m_tVlanTypeMsg[1].m_u32VlanIdMask":[{pattern:/^(0x[0-9a-fA-F]{1,4})$/,message:"掩码范围为0x0-0xffff",trigger:"blur"}],"m_tVlanTypeMsg[2].m_u32VlanId":[{pattern:/^(0x[0-9a-fA-F]{1,4})$/,message:"vlanId范围为0x0-0xffff",trigger:"blur"}],"m_tVlanTypeMsg[2].m_u32VlanIdMask":[{pattern:/^(0x[0-9a-fA-F]{1,4})$/,message:"掩码范围为0x0-0xffff",trigger:"blur"}],"m_tVlanTypeMsg[3].m_u32VlanId":[{pattern:/^(0x[0-9a-fA-F]{1,4})$/,message:"vlanId范围为0x0-0xffff",trigger:"blur"}],"m_tVlanTypeMsg[3].m_u32VlanIdMask":[{pattern:/^(0x[0-9a-fA-F]{1,4})$/,message:"掩码范围为0x0-0xffff",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=JSON.stringify(this.CVlanMsg),l=JSON.parse(t);this.setIpPortProtocolDefaultValue(l),""!==l.m_tVlanTypeMsg[0].m_u32VlanId&&(l.m_tVlanTypeMsg[0].m_u32VlanType=1),""!==l.m_tVlanTypeMsg[1].m_u32VlanId&&(l.m_tVlanTypeMsg[1].m_u32VlanType=2),""!==l.m_tVlanTypeMsg[2].m_u32VlanId&&(l.m_tVlanTypeMsg[2].m_u32VlanType=3),""!==l.m_tVlanTypeMsg[3].m_u32VlanId&&(l.m_tVlanTypeMsg[3].m_u32VlanType=4);var o={domainId:this.domain[1],domainType:this.domain[0],username:this.user,ruleType:"vlan",ruleAction:"add",param:l};console.log(o),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(m["a"])(o).then((function(e){console.log(e),alert(e.data.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields()},setIpPortProtocolDefaultValue:function(e){for(var t=0;t<4;t++){if(""===e.m_tVlanTypeMsg[t].m_u32VlanId&&""!==e.m_tVlanTypeMsg[t].m_u32VlanIdMask)return void alert("请输入vlanid!");""!==e.m_tVlanTypeMsg[t].m_u32VlanId&&""===e.m_tVlanTypeMsg[t].m_u32VlanIdMask&&(e.m_tVlanTypeMsg[t].m_u32VlanIdMask="0x0fff")}}}},K=D,L=Object(p["a"])(K,A,w,!1,null,"f798df5a",null),V=L.exports,O=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"addwindow"}},[l("el-form",{ref:"CWindowRuleMsg",attrs:{model:e.CWindowRuleMsg,rules:e.CWindowRuleMsgRules,"label-width":"100px",inline:!0}},[l("el-row",[l("el-form-item",{attrs:{label:"规则ID",prop:"m_u32AclIndex"}},[l("el-col",{attrs:{span:6}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CWindowRuleMsg.m_u32AclIndex,callback:function(t){e.$set(e.CWindowRuleMsg,"m_u32AclIndex",e._n(t))},expression:"CWindowRuleMsg.m_u32AclIndex"}})],1)],1),l("el-form-item",{staticStyle:{"margin-left":"405px"}},[l("el-col",{attrs:{span:18}})],1)],1),l("el-form-item",{attrs:{label:"是否复合",prop:"m_u32IsComPound"}},[l("el-radio-group",{model:{value:e.CWindowRuleMsg.m_u32IsComPound,callback:function(t){e.$set(e.CWindowRuleMsg,"m_u32IsComPound",t)},expression:"CWindowRuleMsg.m_u32IsComPound"}},[l("el-radio",{attrs:{label:"0"}},[e._v("业务策略")]),l("el-radio",{attrs:{label:"1"}},[e._v("复合")])],1)],1),l("el-form-item",{staticStyle:{"margin-left":"450px"}}),"0"===e.CWindowRuleMsg.m_u32IsComPound?l("el-form-item",{attrs:{label:"业务策略ID",prop:"m_u32ServiceProfileId"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CWindowRuleMsg.m_u32ServiceProfileId,callback:function(t){e.$set(e.CWindowRuleMsg,"m_u32ServiceProfileId",e._n(t))},expression:"CWindowRuleMsg.m_u32ServiceProfileId"}})],1):e._e(),l("el-form-item",{staticStyle:{"margin-left":"405px"}}),l("el-row",[l("el-form-item",{attrs:{label:"关键字长度",prop:"m_u32KeyCodeLen"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"length:2~64"},model:{value:e.CWindowRuleMsg.m_u32KeyCodeLen,callback:function(t){e.$set(e.CWindowRuleMsg,"m_u32KeyCodeLen",e._n(t))},expression:"CWindowRuleMsg.m_u32KeyCodeLen"}})],1),l("el-form-item",{staticStyle:{"margin-left":"405px"}})],1),l("el-row",[l("el-form-item",{attrs:{label:"关键字",prop:"m_strKeyCode"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CWindowRuleMsg.m_strKeyCode,callback:function(t){e.$set(e.CWindowRuleMsg,"m_strKeyCode",t)},expression:"CWindowRuleMsg.m_strKeyCode"}})],1),l("el-form-item",{attrs:{label:"关键字掩码",prop:"m_strKeyCodeMask"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CWindowRuleMsg.m_strKeyCodeMask,callback:function(t){e.$set(e.CWindowRuleMsg,"m_strKeyCodeMask",t)},expression:"CWindowRuleMsg.m_strKeyCodeMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"窗口长度",required:"",prop:"m_u32WindowLength"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CWindowRuleMsg.m_u32WindowLength,callback:function(t){e.$set(e.CWindowRuleMsg,"m_u32WindowLength",e._n(t))},expression:"CWindowRuleMsg.m_u32WindowLength"}})],1),l("el-form-item",{attrs:{label:"窗口起始位置",required:"",prop:"m_u32BeginPos"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CWindowRuleMsg.m_u32BeginPos,callback:function(t){e.$set(e.CWindowRuleMsg,"m_u32BeginPos",e._n(t))},expression:"CWindowRuleMsg.m_u32BeginPos"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"输入端口组ID",prop:"m_u32InputPortGroupId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CWindowRuleMsg.m_u32InputPortGroupId,callback:function(t){e.$set(e.CWindowRuleMsg,"m_u32InputPortGroupId",e._n(t))},expression:"CWindowRuleMsg.m_u32InputPortGroupId"}})],1),l("el-form-item",{attrs:{label:"优先级",prop:"m_u32Priority"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CWindowRuleMsg.m_u32Priority,callback:function(t){e.$set(e.CWindowRuleMsg,"m_u32Priority",e._n(t))},expression:"CWindowRuleMsg.m_u32Priority"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"重启保存",prop:"m_u32RstAclSave"}},[l("el-radio-group",{model:{value:e.CWindowRuleMsg.m_u32RstAclSave,callback:function(t){e.$set(e.CWindowRuleMsg,"m_u32RstAclSave",t)},expression:"CWindowRuleMsg.m_u32RstAclSave"}},[l("el-radio",{attrs:{label:"1"}},[e._v("不保存")]),l("el-radio",{attrs:{label:"0"}},[e._v("保存")])],1)],1),l("el-form-item",{attrs:{label:"中标统计",prop:"m_u32HitStat"}},[l("el-radio-group",{model:{value:e.CWindowRuleMsg.m_u32HitStat,callback:function(t){e.$set(e.CWindowRuleMsg,"m_u32HitStat",t)},expression:"CWindowRuleMsg.m_u32HitStat"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不统计")]),l("el-radio",{attrs:{label:"1"}},[e._v("统计")])],1)],1),"0"===e.CWindowRuleMsg.m_u32IsComPound?l("el-form-item",{attrs:{label:"复合规则",prop:"isRelated"}},[l("el-radio-group",{model:{value:e.CWindowRuleMsg.isRelated,callback:function(t){e.$set(e.CWindowRuleMsg,"isRelated",t)},expression:"CWindowRuleMsg.isRelated"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不复合")]),l("el-radio",{attrs:{label:"1"}},[e._v("复合")])],1)],1):e._e()],1),"1"===e.CWindowRuleMsg.isRelated&&"0"===e.CWindowRuleMsg.m_u32IsComPound?l("el-row",[l("el-row",[l("el-form-item",{attrs:{label:"复合1类型",prop:"m_tCompoundMsg[0].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CWindowRuleMsg.m_tCompoundMsg[0].m_u32RuleType,callback:function(t){e.$set(e.CWindowRuleMsg.m_tCompoundMsg[0],"m_u32RuleType",e._n(t))},expression:"CWindowRuleMsg.m_tCompoundMsg[0].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType}})})),1)],1),l("el-form-item",{attrs:{label:"复合1ID",prop:"m_tCompoundMsg[0].m_u32RelateId"}},[l("el-input",{model:{value:e.CWindowRuleMsg.m_tCompoundMsg[0].m_u32RelateId,callback:function(t){e.$set(e.CWindowRuleMsg.m_tCompoundMsg[0],"m_u32RelateId",e._n(t))},expression:"CWindowRuleMsg.m_tCompoundMsg[0].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合2类型",prop:"m_tCompoundMsg[1].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CWindowRuleMsg.m_tCompoundMsg[1].m_u32RuleType,callback:function(t){e.$set(e.CWindowRuleMsg.m_tCompoundMsg[1],"m_u32RuleType",e._n(t))},expression:"CWindowRuleMsg.m_tCompoundMsg[1].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"复合2ID",prop:"m_tCompoundMsg[1].m_u32RelateId"}},[l("el-input",{model:{value:e.CWindowRuleMsg.m_tCompoundMsg[1].m_u32RelateId,callback:function(t){e.$set(e.CWindowRuleMsg.m_tCompoundMsg[1],"m_u32RelateId",e._n(t))},expression:"CWindowRuleMsg.m_tCompoundMsg[1].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合3类型",prop:"m_tCompoundMsg[2].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CWindowRuleMsg.m_tCompoundMsg[2].m_u32RuleType,callback:function(t){e.$set(e.CWindowRuleMsg.m_tCompoundMsg[2],"m_u32RuleType",e._n(t))},expression:"CWindowRuleMsg.m_tCompoundMsg[2].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"复合3ID",prop:"m_tCompoundMsg[2].m_u32RelateId"}},[l("el-input",{model:{value:e.CWindowRuleMsg.m_tCompoundMsg[2].m_u32RelateId,callback:function(t){e.$set(e.CWindowRuleMsg.m_tCompoundMsg[2],"m_u32RelateId",e._n(t))},expression:"CWindowRuleMsg.m_tCompoundMsg[2].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合4类型",prop:"m_tCompoundMsg[3].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CWindowRuleMsg.m_tCompoundMsg[3].m_u32RuleType,callback:function(t){e.$set(e.CWindowRuleMsg.m_tCompoundMsg[3],"m_u32RuleType",e._n(t))},expression:"CWindowRuleMsg.m_tCompoundMsg[3].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"复合4ID",prop:"m_tCompoundMsg[3].m_u32RelateId"}},[l("el-input",{model:{value:e.CWindowRuleMsg.m_tCompoundMsg[3].m_u32RelateId,callback:function(t){e.$set(e.CWindowRuleMsg.m_tCompoundMsg[3],"m_u32RelateId",e._n(t))},expression:"CWindowRuleMsg.m_tCompoundMsg[3].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"复合5类型",prop:"m_tCompoundMsg[4].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CWindowRuleMsg.m_tCompoundMsg[4].m_u32RuleType,callback:function(t){e.$set(e.CWindowRuleMsg.m_tCompoundMsg[4],"m_u32RuleType",e._n(t))},expression:"CWindowRuleMsg.m_tCompoundMsg[4].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"复合5ID",prop:"m_tCompoundMsg[4].m_u32RelateId"}},[l("el-input",{model:{value:e.CWindowRuleMsg.m_tCompoundMsg[4].m_u32RelateId,callback:function(t){e.$set(e.CWindowRuleMsg.m_tCompoundMsg[4],"m_u32RelateId",e._n(t))},expression:"CWindowRuleMsg.m_tCompoundMsg[4].m_u32RelateId"}})],1)],1)],1):e._e()],1),l("el-form",[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("CWindowRuleMsg")}}},[e._v("提交")]),l("el-button",{on:{click:function(t){return e.resetForm("CWindowRuleMsg")}}},[e._v("重置")])],1)],1)],1)},U=[],N={name:"addwindow",props:{domain:{type:Array},user:{type:String}},data:function(){return{CWindowRuleMsg:{m_strKeyCode:"",m_strKeyCodeMask:"",m_u32KeyCodeLen:"",m_u32ServiceProfileId:"",m_u32RstAclSave:"",m_u32HitStat:"",m_u32IsComPound:"",m_u32WindowNum:"",m_u32AclIndex:"",m_u32RuleSource:"",m_u32WindowLength:"",m_u32BeginPos:"",m_u32Priority:"",m_u32AgeingTime:"",m_u32InputPortGroupId:"",m_u32RuleType:"",isRelated:"",m_tCompoundMsg:[{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""}]},CWindowRuleMsgRules:{m_u32AclIndex:[{required:!0,message:"规则ID不能为空",trigger:"blur"},{pattern:/^([1-9]\d{0,6}|1[0-9]\d{6}|2[0-1][0-9]\d{5}|22000000)$/,message:"规则ID必须为数字值且范围为1-22000000",trigger:"blur"}],m_u32IsComPound:[{required:!0,message:"请选择业务策略组或复合规则"}],m_u32ServiceProfileId:[{pattern:/^([1-9][0-9]?|1[0-2][0-7])$/,message:"业务策略ID必须为数字值且范围为1-127",trigger:"blur"}],m_u32KeyCodeLen:[{required:!0,message:"关键字长度不能为空",trigger:"blur"},{pattern:/^([2-9]|[1-5][0-9]|6[0-4])$/,message:"关键字长度为2~64",trigger:"blur"}],m_strKeyCode:[{required:!0,message:"关键字不能为空",trigger:"blur"},{pattern:/(^0x[0-9a-fA-F]{2,}$)|(^[^0][^x].*)/,message:"请输入正确形式的关键字",trigger:"blur"}],m_strKeyCodeMask:[{pattern:/(^0x[0-9a-fA-F]{2,}$)|(^[^0][^x].*)/,message:"请输入正确形式的关键字掩码",trigger:"blur"}],m_u32InputPortGroupId:[{pattern:/^([1-9]\d?|100)$/,message:"输入端口组ID必须为数字值且范围为1-100",trigger:"blur"}],m_u32Priority:[{pattern:/^([1-9]|[1-2][0-9]|3[0-2])$/,message:"优先级必须为数字值且范围为1-32",trigger:"blur"}],m_u32WindowLength:[{required:!0,message:"窗口长度不能为空",trigger:"blur"},{pattern:/^([1-9]|[1-5][0-9]|6[0-4])$/,message:"窗口长度必须为数字值且范围为1-64",trigger:"blur"}],m_u32BeginPos:[{required:!0,message:"窗口起始位置不能为空",trigger:"blur"},{pattern:/^([0-9]{0,3}|[1-8][0-9]\d{2}|9[0-3][0-9]\d|940[0-9]|941[0-2])$/,message:"窗口起始位置必须为数字值且范围为0-9412",trigger:"blur"}]},compoundRuleType:[{CompoundRuleType:7,label:"全包浮动特征码规则"},{CompoundRuleType:6,label:"window规则"},{CompoundRuleType:26,label:"url规则",disabled:!0}],CompoundRuleType:0}},methods:{submitForm:function(e){var t=JSON.stringify(this.CWindowRuleMsg),l=JSON.parse(t);if(!1===this.checkKeycode(l))return!1;if(!1===this.checkRelateRuleId(l))return!1;if(this.checkIsCompound(l),""===l.m_strKeyCodeMask){l.m_strKeyCodeMask="0x";for(var o=0;o<l.m_u32KeyCodeLen;o++)l.m_strKeyCodeMask+="ff"}var a={domainId:this.domain[1],domainType:this.domain[0],username:this.user,ruleType:"window",ruleAction:"add",param:l};console.log(a),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(m["a"])(a).then((function(e){console.log(e),alert(e.data.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields()},checkRelateRuleId:function(e){for(var t=[6,7,26],l=0;l<5;l++)if(-1!==t.indexOf(e.m_tCompoundMsg[l].m_u32RuleType)&&""===e.m_tCompoundMsg[l].m_u32RelateId)return alert("请输入复合规则ID"),!1},checkIsCompound:function(e){"1"===e.isRelated&&(e.m_u32IsComPound=1)},checkKeycode:function(e){if(0!==e.m_strKeyCode.indexOf("0x",0)){if(2*e.m_strKeyCode.length>130)return alert("param keycode is out of 64byte error!"),!1;if((e.m_strKeyCodeMask.length-2)%2!==0)return alert("KeyCodeMask should be ByteAligned!"),!1;if(e.m_strKeyCode.length!==e.m_u32KeyCodeLen)return alert("keycode's length: "+e.m_strKeyCode.length+" is not equal to keycodelen: "+e.m_u32KeyCodeLen),!1;if(""!==e.m_strKeyCodeMask&&2*e.m_strKeyCode.length!==e.m_strKeyCodeMask.length-2)return alert("keycodemask's length: "+(e.m_strKeyCodeMask.length-2)/2+" is not equal to keycode's length: "+e.m_strKeyCode.length),!1}else if(0===e.m_strKeyCode.indexOf("0x",0)){if(e.m_strKeyCode.length>130)return alert("param keycode is out of 64byte error!"),!1;if(e.m_strKeyCode.length%2!==0)return alert("KeyCode should be ByteAligned!"),!1;if((e.m_strKeyCodeMask.length-2)%2!==0)return alert("KeyCodeMask should be ByteAligned!"),!1;if((e.m_strKeyCode.length-2)/2!==e.m_u32KeyCodeLen)return alert("keycode's length: "+(e.m_strKeyCode.length-2)/2+" is not equal to keycodelen: "+e.m_u32KeyCodeLen),!1;if(""!==e.m_strKeyCodeMask&&e.m_strKeyCode.length!==e.m_strKeyCodeMask.length)return alert("keycodemask's length: "+(e.m_strKeyCodeMask.length-2)/2+" is not equal to keycode's length: "+(e.m_strKeyCode.length-2)/2),!1}if(e.m_u32WindowLength<e.m_u32KeyCodeLen)return alert("The window-length "+e.m_u32WindowLength+" is shorter than keycodelen "+e.m_u32KeyCodeLen),!1}}},W=N,G=Object(p["a"])(W,O,U,!1,null,"9aba7c1c",null),E=G.exports,H=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"addethmac"}},[l("el-form",{ref:"CEtherMacRuleMsg",staticStyle:{"margin-left":"220px"},attrs:{model:e.CEtherMacRuleMsg,rules:e.CEtherMacRuleMsgRules,"label-width":"100px",inline:!0}},[l("el-row",[l("el-form-item",{attrs:{label:"规则ID",prop:"m_u32AclIndex"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CEtherMacRuleMsg.m_u32AclIndex,callback:function(t){e.$set(e.CEtherMacRuleMsg,"m_u32AclIndex",e._n(t))},expression:"CEtherMacRuleMsg.m_u32AclIndex"}})],1),l("el-form-item",{attrs:{label:"业务策略ID",prop:"m_u32ServiceProfileId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CEtherMacRuleMsg.m_u32ServiceProfileId,callback:function(t){e.$set(e.CEtherMacRuleMsg,"m_u32ServiceProfileId",e._n(t))},expression:"CEtherMacRuleMsg.m_u32ServiceProfileId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"源Mac地址",prop:"m_strSourceMac"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CEtherMacRuleMsg.m_strSourceMac,callback:function(t){e.$set(e.CEtherMacRuleMsg,"m_strSourceMac",t)},expression:"CEtherMacRuleMsg.m_strSourceMac"}})],1),l("el-form-item",{attrs:{label:"目的Mac地址",prop:"m_strDestinationMac"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CEtherMacRuleMsg.m_strDestinationMac,callback:function(t){e.$set(e.CEtherMacRuleMsg,"m_strDestinationMac",t)},expression:"CEtherMacRuleMsg.m_strDestinationMac"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"输入端口组ID",prop:"m_u32InputPortGroupId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CEtherMacRuleMsg.m_u32InputPortGroupId,callback:function(t){e.$set(e.CEtherMacRuleMsg,"m_u32InputPortGroupId",e._n(t))},expression:"CEtherMacRuleMsg.m_u32InputPortGroupId"}})],1),l("el-form-item",{attrs:{label:"优先级",prop:"m_u32Priority"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CEtherMacRuleMsg.m_u32Priority,callback:function(t){e.$set(e.CEtherMacRuleMsg,"m_u32Priority",e._n(t))},expression:"CEtherMacRuleMsg.m_u32Priority"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"重启保存",prop:"m_u32RstAclSave"}},[l("el-radio-group",{model:{value:e.CEtherMacRuleMsg.m_u32RstAclSave,callback:function(t){e.$set(e.CEtherMacRuleMsg,"m_u32RstAclSave",t)},expression:"CEtherMacRuleMsg.m_u32RstAclSave"}},[l("el-radio",{attrs:{label:"1"}},[e._v("不保存")]),l("el-radio",{attrs:{label:"0"}},[e._v("保存")])],1)],1),l("el-form-item",{attrs:{label:"中标统计",prop:"m_u32HitStat"}},[l("el-radio-group",{model:{value:e.CEtherMacRuleMsg.m_u32HitStat,callback:function(t){e.$set(e.CEtherMacRuleMsg,"m_u32HitStat",t)},expression:"CEtherMacRuleMsg.m_u32HitStat"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不统计")]),l("el-radio",{attrs:{label:"1"}},[e._v("统计")])],1)],1)],1)],1),l("el-form",[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("CEtherMacRuleMsg")}}},[e._v("立即创建")]),l("el-button",{on:{click:function(t){return e.resetForm("CEtherMacRuleMsg")}}},[e._v("重置")])],1)],1)],1)},B=[],q={name:"addethmac",props:{domain:{type:Array},user:{type:String}},data:function(){return{CEtherMacRuleMsg:{m_u32InputPortGroupId:"",m_strSourceMac:"",m_strDestinationMac:"",m_u32RuleType:"",m_u32ServiceProfileId:"",m_u32AclIndex:"",m_u32RuleSource:"",m_u32Priority:"",m_u32RstAclSave:"",m_u32HitStat:"",m_u32RuleNum:""},CEtherMacRuleMsgRules:{m_u32AclIndex:[{required:!0,message:"规则ID不能为空",trigger:"blur"},{pattern:/^([1-9]\d{0,6}|1[0-9]\d{6}|2[0-1][0-9]\d{5}|22000000)$/,message:"规则ID必须为数字值且范围为1-22000000",trigger:"blur"}],m_u32ServiceProfileId:[{required:!0,message:"业务策略ID不能为空",trigger:"blur"},{pattern:/^([1-9][0-9]?|1[0-2][0-7])$/,message:"业务策略ID必须为数字值且范围为1-127",trigger:"blur"}],m_u32InputPortGroupId:[{pattern:/^([1-9]\d?|100)$/,message:"输入端口组ID必须为数字值且范围为1-100",trigger:"blur"}],m_u32Priority:[{pattern:/^([1-9]|[1-2][0-9]|3[0-2])$/,message:"优先级必须为数字值且范围为1-32",trigger:"blur"}],m_strSourceMac:[{pattern:/^([0-9a-fA-F][0-9a-fA-F]:[0-9a-fA-F][0-9a-fA-F]:[0-9a-fA-F][0-9a-fA-F]:[0-9a-fA-F][0-9a-fA-F]:[0-9a-fA-F][0-9a-fA-F]:[0-9a-fA-F][0-9a-fA-F])$/,message:"请输入正确形式的Mac地址",trigger:"blur"}],m_strDestinationMac:[{pattern:/^([0-9a-fA-F][0-9a-fA-F]:[0-9a-fA-F][0-9a-fA-F]:[0-9a-fA-F][0-9a-fA-F]:[0-9a-fA-F][0-9a-fA-F]:[0-9a-fA-F][0-9a-fA-F]:[0-9a-fA-F][0-9a-fA-F])$/,message:"请输入正确形式的Mac地址",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=JSON.stringify(this.CEtherMacRuleMsg),l=JSON.parse(t);if(!1===this.checkRuleType(l))return!1;var o={domainId:this.domain[1],domainType:this.domain[0],username:this.user,ruleType:"eth-mac",ruleAction:"add",param:l};console.log(o),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(m["a"])(o).then((function(e){console.log(e),alert(e.data.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields()},checkRuleType:function(e){if(""===e.m_strSourceMac&&""===e.m_strDestinationMac)return alert("没有源Mac地址或者目的Mac地址，两者必须有一项！"),!1;""!==e.m_strSourceMac&&""===e.m_strDestinationMac?(e.m_u32RuleType=0,e.m_strDestinationMac="ffffffffffffffffffffffffffffffff"):""===e.m_strSourceMac&&""!==e.m_strDestinationMac?(e.m_u32RuleType=1,e.m_strSourceMac="ffffffffffffffffffffffffffffffff"):""!==e.m_strSourceMac&&""!==e.m_strDestinationMac&&(e.m_u32RuleType=2)}}},j=q,J=Object(p["a"])(j,H,B,!1,null,"7b40aabc",null),Y=J.exports,X=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"addimsi"}},[l("el-form",{ref:"CLteRuleMsg",staticStyle:{"margin-left":"265px"},attrs:{model:e.CLteRuleMsg,rules:e.CLteRuleMsgRules,"label-width":"100px",inline:!0}},[l("el-row",[l("el-form-item",{attrs:{label:"规则ID",prop:"m_u32AclIndex"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CLteRuleMsg.m_u32AclIndex,callback:function(t){e.$set(e.CLteRuleMsg,"m_u32AclIndex",e._n(t))},expression:"CLteRuleMsg.m_u32AclIndex"}})],1),l("el-form-item",{staticStyle:{"margin-left":"405px"}})],1),l("el-row",[l("el-form-item",{attrs:{label:"是否复合",prop:"m_u32IsComPound"}},[l("el-radio-group",{model:{value:e.CLteRuleMsg.m_u32IsComPound,callback:function(t){e.$set(e.CLteRuleMsg,"m_u32IsComPound",t)},expression:"CLteRuleMsg.m_u32IsComPound"}},[l("el-radio",{attrs:{label:"0"}},[e._v("业务策略")]),l("el-radio",{attrs:{label:"1"}},[e._v("复合")])],1)],1),l("el-form-item",{staticStyle:{"margin-left":"405px"}})],1),"0"===e.CLteRuleMsg.m_u32IsComPound?l("el-row",[l("el-form-item",{attrs:{label:"业务策略ID",prop:"m_u32ServiceProfileId"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CLteRuleMsg.m_u32ServiceProfileId,callback:function(t){e.$set(e.CLteRuleMsg,"m_u32ServiceProfileId",e._n(t))},expression:"CLteRuleMsg.m_u32ServiceProfileId"}})],1),l("el-form-item",{staticStyle:{"margin-left":"405px"}})],1):e._e(),l("el-row",[l("el-form-item",{attrs:{label:"imsi数量",prop:"m_tLteRuleContentMsg[0].m_strRule"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CLteRuleMsg.m_tLteRuleContentMsg[0].m_strRule,callback:function(t){e.$set(e.CLteRuleMsg.m_tLteRuleContentMsg[0],"m_strRule",t)},expression:"CLteRuleMsg.m_tLteRuleContentMsg[0].m_strRule"}})],1),l("el-form-item",{staticStyle:{"margin-left":"405px"}})],1),l("el-row",[l("el-form-item",{attrs:{label:"输入端口组ID",prop:"m_u32InputPortGroupId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CLteRuleMsg.m_u32InputPortGroupId,callback:function(t){e.$set(e.CLteRuleMsg,"m_u32InputPortGroupId",e._n(t))},expression:"CLteRuleMsg.m_u32InputPortGroupId"}})],1),l("el-form-item",{attrs:{label:"优先级",prop:"m_u32Priority"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CLteRuleMsg.m_u32Priority,callback:function(t){e.$set(e.CLteRuleMsg,"m_u32Priority",e._n(t))},expression:"CLteRuleMsg.m_u32Priority"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"重启保存",prop:"m_u32RstAclSave"}},[l("el-radio-group",{model:{value:e.CLteRuleMsg.m_u32RstAclSave,callback:function(t){e.$set(e.CLteRuleMsg,"m_u32RstAclSave",t)},expression:"CLteRuleMsg.m_u32RstAclSave"}},[l("el-radio",{attrs:{label:"1"}},[e._v("不保存")]),l("el-radio",{attrs:{label:"0"}},[e._v("保存")])],1)],1),l("el-form-item",{attrs:{label:"中标统计",prop:"m_u32HitStat"}},[l("el-radio-group",{model:{value:e.CLteRuleMsg.m_u32HitStat,callback:function(t){e.$set(e.CLteRuleMsg,"m_u32HitStat",t)},expression:"CLteRuleMsg.m_u32HitStat"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不统计")]),l("el-radio",{attrs:{label:"1"}},[e._v("统计")])],1)],1)],1)],1),l("el-form",[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("CLteRuleMsg")}}},[e._v("立即创建")]),l("el-button",{on:{click:function(t){return e.resetForm("CLteRuleMsg")}}},[e._v("重置")])],1)],1)],1)},z=[],Z={name:"addimsi",props:{domain:{type:Array},user:{type:String}},data:function(){return{CLteRuleMsg:{m_u32AclIndex:"",m_u32ServiceProfileId:"",m_u32RuleSource:"",m_u32Priority:"",m_u32RstAclSave:"",m_u32HitStat:"",m_u32RuleNum:"",m_u32Step:"",m_u32Location:"",m_u32InputPortGroupId:"",m_u32IsComPound:"",m_tLteRuleContentMsg:[{m_u32RuleType:48,m_strRule:"",m_u32Rule:"",m_strRuleMask:"fffffffffffffff",m_u32RuleMask:""}]},CLteRuleMsgRules:{m_u32AclIndex:[{required:!0,message:"规则ID不能为空",trigger:"blur"},{pattern:/^([1-9]\d{0,6}|1[0-9]\d{6}|2[0-1][0-9]\d{5}|22000000)$/,message:"规则ID必须为数字值且范围为1-22000000",trigger:"blur"}],m_u32InputPortGroupId:[{pattern:/^([1-9]\d?|100)$/,message:"输入端口组ID必须为数字值且范围为1-100",trigger:"blur"}],m_u32Priority:[{pattern:/^([1-9]|[1-2][0-9]|3[0-2])$/,message:"优先级必须为数字值且范围为1-32",trigger:"blur"}],"m_tLteRuleContentMsg[0].m_strRule":[{pattern:/^[0-9]{15}$/,message:"imsi数量为15位数字",trigger:"blur"}],m_u32ServiceProfileId:[{pattern:/^([1-9][0-9]?|1[0-2][0-7])$/,message:"业务策略ID必须为数字值且范围为1-127",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=JSON.stringify(this.CLteRuleMsg),l=JSON.parse(t),o={domainId:this.domain[1],domainType:this.domain[0],username:this.user,ruleType:"imsi",ruleAction:"add",param:l};console.log(o),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(m["a"])(o).then((function(e){console.log(e),alert(e.data.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},Q=Z,ee=Object(p["a"])(Q,X,z,!1,null,"1907c64f",null),te=ee.exports,le=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"addprotocol"}},[l("el-form",{ref:"CProtocolMsg",staticStyle:{"margin-left":"220px"},attrs:{model:e.CProtocolMsg,rules:e.CProtocolMsgRules,"label-width":"100px",inline:!0}},[l("el-row",[l("el-form-item",{attrs:{label:"规则ID",prop:"m_u32AclIndex"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32AclIndex,callback:function(t){e.$set(e.CProtocolMsg,"m_u32AclIndex",e._n(t))},expression:"CProtocolMsg.m_u32AclIndex"}})],1),l("el-form-item",{attrs:{label:"业务策略ID",prop:"m_u32ServiceProfileId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32ServiceProfileId,callback:function(t){e.$set(e.CProtocolMsg,"m_u32ServiceProfileId",e._n(t))},expression:"CProtocolMsg.m_u32ServiceProfileId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"协议规则类型",prop:"selectedOptions"}},[l("el-cascader",{staticStyle:{width:"300px"},attrs:{options:e.ProtocolRule},on:{change:e.handleChange},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),2!==e.selectedOptions[0]?l("el-form-item",{attrs:{label:"Ipv4/Ipv6",prop:"Ipv4orIpv6"}},[l("el-radio-group",{model:{value:e.CProtocolMsg.Ipv4orIpv6,callback:function(t){e.$set(e.CProtocolMsg,"Ipv4orIpv6",t)},expression:"CProtocolMsg.Ipv4orIpv6"}},[l("el-radio",{attrs:{label:"ipv4"}},[e._v("Ipv4")]),l("el-radio",{attrs:{label:"ipv6"}},[e._v("Ipv6")])],1)],1):e._e()],1),2!==e.selectedOptions[0]?["ipv4"===e.CProtocolMsg.Ipv4orIpv6?l("el-row",[l("el-row",[l("el-form-item",{attrs:{label:"源IP",prop:"m_u32SrcIp"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32SrcIp,callback:function(t){e.$set(e.CProtocolMsg,"m_u32SrcIp",t)},expression:"CProtocolMsg.m_u32SrcIp"}})],1),l("el-form-item",{attrs:{label:"源IP掩码",prop:"m_u32SrcIpMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32SrcIpMask,callback:function(t){e.$set(e.CProtocolMsg,"m_u32SrcIpMask",t)},expression:"CProtocolMsg.m_u32SrcIpMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"目的IP",prop:"m_u32DstIp"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32DstIp,callback:function(t){e.$set(e.CProtocolMsg,"m_u32DstIp",t)},expression:"CProtocolMsg.m_u32DstIp"}})],1),l("el-form-item",{attrs:{label:"目的IP掩码",prop:"m_u32DstIpMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32DstIpMask,callback:function(t){e.$set(e.CProtocolMsg,"m_u32DstIpMask",t)},expression:"CProtocolMsg.m_u32DstIpMask"}})],1)],1)],1):e._e(),"ipv6"===e.CProtocolMsg.Ipv4orIpv6?l("el-row",[l("el-row",[l("el-form-item",{attrs:{label:"源IP",prop:"m_strSrcIp"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_strSrcIp,callback:function(t){e.$set(e.CProtocolMsg,"m_strSrcIp",t)},expression:"CProtocolMsg.m_strSrcIp"}})],1),l("el-form-item",{attrs:{label:"源IP掩码",prop:"m_strSrcIpMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_strSrcIpMask,callback:function(t){e.$set(e.CProtocolMsg,"m_strSrcIpMask",t)},expression:"CProtocolMsg.m_strSrcIpMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"目的IP",prop:"m_strDstIp"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_strDstIp,callback:function(t){e.$set(e.CProtocolMsg,"m_strDstIp",t)},expression:"CProtocolMsg.m_strDstIp"}})],1),l("el-form-item",{attrs:{label:"目的IP掩码",prop:"m_strDstIpMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_strDstIpMask,callback:function(t){e.$set(e.CProtocolMsg,"m_strDstIpMask",t)},expression:"CProtocolMsg.m_strDstIpMask"}})],1)],1)],1):e._e(),l("el-row",[l("el-form-item",{attrs:{label:"源端口",prop:"m_u32SrcPort"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32SrcPort,callback:function(t){e.$set(e.CProtocolMsg,"m_u32SrcPort",e._n(t))},expression:"CProtocolMsg.m_u32SrcPort"}})],1),l("el-form-item",{attrs:{label:"源端口掩码",prop:"m_u32SrcPortMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32SrcPortMask,callback:function(t){e.$set(e.CProtocolMsg,"m_u32SrcPortMask",t)},expression:"CProtocolMsg.m_u32SrcPortMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"目的端口",prop:"m_u32DstPort"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32DstPort,callback:function(t){e.$set(e.CProtocolMsg,"m_u32DstPort",e._n(t))},expression:"CProtocolMsg.m_u32DstPort"}})],1),l("el-form-item",{attrs:{label:"目的端口掩码",prop:"m_u32DstPortMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32DstPortMask,callback:function(t){e.$set(e.CProtocolMsg,"m_u32DstPortMask",t)},expression:"CProtocolMsg.m_u32DstPortMask"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"协议号",prop:"m_u32Protocol"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32Protocol,callback:function(t){e.$set(e.CProtocolMsg,"m_u32Protocol",t)},expression:"CProtocolMsg.m_u32Protocol"}})],1),l("el-form-item",{attrs:{label:"协议掩码",prop:"m_u32ProtocolMask"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32ProtocolMask,callback:function(t){e.$set(e.CProtocolMsg,"m_u32ProtocolMask",t)},expression:"CProtocolMsg.m_u32ProtocolMask"}})],1)],1)]:e._e(),l("el-row",[l("el-form-item",{attrs:{label:"输入端口组ID",prop:"m_u32InputPortGroup"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32InputPortGroup,callback:function(t){e.$set(e.CProtocolMsg,"m_u32InputPortGroup",e._n(t))},expression:"CProtocolMsg.m_u32InputPortGroup"}})],1),l("el-form-item",{attrs:{label:"优先级",prop:"m_u32Priority"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CProtocolMsg.m_u32Priority,callback:function(t){e.$set(e.CProtocolMsg,"m_u32Priority",e._n(t))},expression:"CProtocolMsg.m_u32Priority"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"重启保存",prop:"m_u32RstAclSave"}},[l("el-radio-group",{model:{value:e.CProtocolMsg.m_u32RstAclSave,callback:function(t){e.$set(e.CProtocolMsg,"m_u32RstAclSave",t)},expression:"CProtocolMsg.m_u32RstAclSave"}},[l("el-radio",{attrs:{label:"1"}},[e._v("不保存")]),l("el-radio",{attrs:{label:"0"}},[e._v("保存")])],1)],1),l("el-form-item",{attrs:{label:"中标统计",prop:"m_u32HitStat"}},[l("el-radio-group",{model:{value:e.CProtocolMsg.m_u32HitStat,callback:function(t){e.$set(e.CProtocolMsg,"m_u32HitStat",t)},expression:"CProtocolMsg.m_u32HitStat"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不统计")]),l("el-radio",{attrs:{label:"1"}},[e._v("统计")])],1)],1)],1)],2),l("el-form",[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("CProtocolMsg")}}},[e._v("立即创建")]),l("el-button",{on:{click:function(t){return e.resetForm("CProtocolMsg")}}},[e._v("重置")])],1)],1)],1)},oe=[],ae={name:"addprotocol",props:{domain:{type:Array},user:{type:String}},data:function(){return{ProtocolRule:[{value:0,label:"Signal",children:[{value:0,label:"s1ap"},{value:1,label:"diameter"},{value:2,label:"sgs-ap"},{value:3,label:"signal-sip"},{value:4,label:"gtpv0"},{value:5,label:"gtpv1"},{value:6,label:"gtpv2"},{value:7,label:"ngap"},{value:8,label:"http2"}]},{value:1,label:"application",children:[{value:0,label:"http"},{value:1,label:"https"},{value:2,label:"ftp"},{value:3,label:"pop3"},{value:4,label:"smtp"},{value:5,label:"imap"},{value:6,label:"dns"},{value:7,label:"radius"},{value:8,label:"coap"}]},{value:2,label:"volte",children:[{value:0,label:"sip"},{value:1,label:"rtp"},{value:2,label:"rtcp"}]}],selectedOptions:[],CProtocolMsg:{m_u32AclIndex:"",m_u32ServiceProfileId:"",m_u32ProtocolType:"",m_strImsi:"0xfffffffffffffff",m_u32InputPortGroup:"",m_u32Protocol:"",m_u32SrcIp:"",m_u32DstIp:"",m_u32SrcPort:"",m_u32DstPort:"",m_strSrcIp:"",m_strDstIp:"",m_strSrcIpMask:"",m_strDstIpMask:"",m_u32SrcIpMask:"",m_u32DstIpMask:"",m_u32SrcPortMask:"",m_u32DstPortMask:"",m_u32ProtocolMask:"",m_u32RuleType:"",m_u32RuleSource:"",m_u32Priority:"",m_u32RstAclSave:"",m_u32HitStat:"",m_u32RuleNum:"",m_u32Strategy:"",m_u32Location:"",m_u32Step:"",Ipv4orIpv6:""},CProtocolMsgRules:{m_u32AclIndex:[{required:!0,message:"规则ID不能为空",trigger:"blur"},{pattern:/^([1-9]\d{0,6}|1[0-9]\d{6}|2[0-1][0-9]\d{5}|22000000)$/,message:"规则ID必须为数字值且范围为1-22000000",trigger:"blur"}],m_u32ServiceProfileId:[{required:!0,message:"业务策略ID不能为空",trigger:"blur"},{pattern:/^([1-9][0-9]?|1[0-2][0-7])$/,message:"业务策略ID必须为数字值且范围为1-127",trigger:"blur"}],m_u32InputPortGroup:[{pattern:/^([1-9]\d?|100)$/,message:"输入端口组ID必须为数字值且范围为1-100",trigger:"blur"}],m_u32Priority:[{pattern:/^([1-9]|[1-2][0-9]|3[0-2])$/,message:"优先级必须为数字值且范围为1-32",trigger:"blur"}],m_u32Protocol:[{pattern:/^(tcp|udp|[1-9]\d?|1[0-9]\d|2[0-4][0-9]|25[0-5])$/,message:"协议号为tcp/udp/范围为1-255的数字",trigger:"blur"}],m_u32ProtocolMask:[{pattern:/^(0x[0-9a-fA-F]{1,2})$/,message:"协议号掩码范围为0x00-0xff",trigger:"blur"}],m_u32DstPort:[{pattern:/^([1-9]\d{0,3}|[1-5][0-9]\d{3}|6[0-4][0-9]\d{2}|65[0-4][0-9]\d|655[0-2][0-9]|6553[0-5])$/,message:"端口号必须为数字值且范围为1-65535",trigger:"blur"}],m_u32SrcPort:[{pattern:/^([1-9]\d{0,3}|[1-5][0-9]\d{3}|6[0-4][0-9]\d{2}|65[0-4][0-9]\d|655[0-2][0-9]|6553[0-5])$/,message:"端口号必须为数字值且范围为1-65535",trigger:"blur"}],m_u32SrcIp:[{pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,message:"请输入正确形式的ipv4地址",trigger:"blur"}],m_u32DstIp:[{pattern:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,message:"请输入正确形式的ipv4地址",trigger:"blur"}],m_u32SrcIpMask:[{pattern:/^0x[0-9a-fA-F]{1,8}$/,message:"请输入正确形式的ipv4地址掩码，最多8字节",trigger:"blur"}],m_u32DstIpMask:[{pattern:/^0x[0-9a-fA-F]{1,8}$/,message:"请输入正确形式的ipv4地址掩码，最多8字节",trigger:"blur"}],m_u32SrcPortMask:[{pattern:/^0x[0-9a-fA-F]{1,4}$/,message:"请输入正确形式的端口掩码，最多4字节",trigger:"blur"}],m_u32DstPortMask:[{pattern:/^0x[0-9a-fA-F]{1,4}$/,message:"请输入正确形式的端口掩码，最多4字节",trigger:"blur"}],m_strSrcIp:[{pattern:/^([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){6}(:[0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){5}((:[0-9a-fA-F]{1,4}){1,2}|:)$|^([0-9a-fA-F]{1,4}:){4}((:[0-9a-fA-F]{1,4}){1,3}|:)$|^([0-9a-fA-F]{1,4}:){3}((:[0-9a-fA-F]{1,4}){1,4}|:)$|^([0-9a-fA-F]{1,4}:){2}((:[0-9a-fA-F]{1,4}){1,5}|:)$|^([0-9a-fA-F]{1,4}:)((:[0-9a-fA-F]{1,4}){1,6}|:)$|^:((:[0-9a-fA-F]{1,4}){1,7}|:)/,message:"请输入正确形式的ipv6地址",trigger:"blur"}],m_strDstIp:[{pattern:/^([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){6}(:[0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){5}((:[0-9a-fA-F]{1,4}){1,2}|:)$|^([0-9a-fA-F]{1,4}:){4}((:[0-9a-fA-F]{1,4}){1,3}|:)$|^([0-9a-fA-F]{1,4}:){3}((:[0-9a-fA-F]{1,4}){1,4}|:)$|^([0-9a-fA-F]{1,4}:){2}((:[0-9a-fA-F]{1,4}){1,5}|:)$|^([0-9a-fA-F]{1,4}:)((:[0-9a-fA-F]{1,4}){1,6}|:)$|^:((:[0-9a-fA-F]{1,4}){1,7}|:)/,message:"请输入正确形式的ipv6地址",trigger:"blur"}],m_strSrcIpMask:[{pattern:/^([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){6}(:[0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){5}((:[0-9a-fA-F]{1,4}){1,2}|:)$|^([0-9a-fA-F]{1,4}:){4}((:[0-9a-fA-F]{1,4}){1,3}|:)$|^([0-9a-fA-F]{1,4}:){3}((:[0-9a-fA-F]{1,4}){1,4}|:)$|^([0-9a-fA-F]{1,4}:){2}((:[0-9a-fA-F]{1,4}){1,5}|:)$|^([0-9a-fA-F]{1,4}:)((:[0-9a-fA-F]{1,4}){1,6}|:)$|^:((:[0-9a-fA-F]{1,4}){1,7}|:)/,message:"请输入正确形式的ipv6地址掩码",trigger:"blur"}],m_strDstIpMask:[{pattern:/^([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){6}(:[0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){5}((:[0-9a-fA-F]{1,4}){1,2}|:)$|^([0-9a-fA-F]{1,4}:){4}((:[0-9a-fA-F]{1,4}){1,3}|:)$|^([0-9a-fA-F]{1,4}:){3}((:[0-9a-fA-F]{1,4}){1,4}|:)$|^([0-9a-fA-F]{1,4}:){2}((:[0-9a-fA-F]{1,4}){1,5}|:)$|^([0-9a-fA-F]{1,4}:)((:[0-9a-fA-F]{1,4}){1,6}|:)$|^:((:[0-9a-fA-F]{1,4}){1,7}|:)/,message:"请输入正确形式的ipv6地址掩码",trigger:"blur"}]}}},methods:{handleChange:function(e){this.CProtocolMsg.m_u32ProtocolType=e[1],this.CProtocolMsg.m_u32RuleType=e[0]},submitForm:function(e){var t=JSON.stringify(this.CProtocolMsg),l=JSON.parse(t),o=l.Ipv4orIpv6;this.checkRuleType(l,o),this.setIpPortProtocolDefaultValue(l),"tcp"===l.m_u32Protocol&&(l.m_u32Protocol="6"),"udp"===l.m_u32Protocol&&(l.m_u32Protocol="17");var a={domainId:this.domain[1],domainType:this.domain[0],username:this.user,ruleType:"protocol",ruleAction:"add",param:l};console.log(a),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(m["a"])(a).then((function(e){console.log(e),alert(e.data.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields()},checkRuleType:function(e,t){if("ipv4"===t)switch(e.m_u32RuleType){case 0:e.m_u32RuleType=3;break;case 1:e.m_u32RuleType=4;break;case 7:e.m_u32RuleType=8;break;default:alert("volte do not hava five meta");break}else if("ipv6"===t)switch(e.m_u32RuleType){case 0:e.m_u32RuleType=5;break;case 1:e.m_u32RuleType=6;break;case 7:e.m_u32RuleType=9;break;default:alert("volte do not hava five mata");break}},setIpPortProtocolDefaultValue:function(e){"ipv4"===e.Ipv4orIpv6?(""===e.m_u32SrcIp&&(e.m_u32SrcIpMask="0"),""!==e.m_u32SrcIp&&""===e.m_u32SrcIpMask&&(e.m_u32SrcIpMask="0xffffffff"),""===e.m_u32DstIp&&(e.m_u32DstIpMask="0"),""!==e.m_u32DstIp&&""===e.m_u32DstIpMask&&(e.m_u32DstIpMask="0xffffffff"),e.m_strSrcIp=e.m_strDstIp=e.m_strSrcIpMask=e.m_strDstIpMask="ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff"):"ipv6"===e.Ipv4orIpv6&&(""===e.m_strSrcIp&&(e.m_strSrcIpMask="0"),""!==e.m_strSrcIp&&""===e.m_strSrcIpMask&&(e.m_strSrcIpMask="ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff"),""===e.m_strDstIp&&(e.m_strDstIpMask="0"),""!==e.m_strDstIp&&""===e.m_strDstIpMask&&(e.m_strDstIpMask="ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff"),e.m_u32DstIpMask=e.m_u32SrcIpMask=e.m_u32SrcIp=e.m_u32DstIp=0),""===e.m_u32SrcPort&&(e.m_u32SrcPort=e.m_u32SrcPortMask="0"),""!==e.m_u32SrcPort&&""===e.m_u32SrcPortMask&&(e.m_u32SrcPortMask="0xffffffff"),""===e.m_u32DstPort&&(e.m_u32DstPort=e.m_u32DstPortMask="0"),""!==e.m_u32DstPort&&""===e.m_u32DstPortMask&&(e.m_u32DstPortMask="0xffffffff"),""===e.m_u32Protocol&&(e.m_u32Protocol=e.m_u32ProtocolMask="0"),""!==e.m_u32Protocol&&""===e.m_u32ProtocolMask&&(e.m_u32ProtocolMask="0xffffffff")}}},re=ae,ue=Object(p["a"])(re,le,oe,!1,null,"2937ecd4",null),se=ue.exports,me=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"addtcpflag"}},[l("el-form",{ref:"CTcpFlagMsg",staticStyle:{"margin-left":"220px"},attrs:{model:e.CTcpFlagMsg,rules:e.CTcpFlagMsgRules,"label-width":"100px",inline:!0}},[l("el-row",[l("el-form-item",{attrs:{label:"规则ID",prop:"m_u32AclIndex"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CTcpFlagMsg.m_u32AclIndex,callback:function(t){e.$set(e.CTcpFlagMsg,"m_u32AclIndex",e._n(t))},expression:"CTcpFlagMsg.m_u32AclIndex"}})],1),l("el-form-item",{attrs:{label:"业务策略ID",prop:"m_u32ServiceProfileId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CTcpFlagMsg.m_u32ServiceProfileId,callback:function(t){e.$set(e.CTcpFlagMsg,"m_u32ServiceProfileId",e._n(t))},expression:"CTcpFlagMsg.m_u32ServiceProfileId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{prop:"m_u32URGFlag"}},[l("el-checkbox",{model:{value:e.CTcpFlagMsg.m_u32URGFlag,callback:function(t){e.$set(e.CTcpFlagMsg,"m_u32URGFlag",t)},expression:"CTcpFlagMsg.m_u32URGFlag"}},[e._v("URG")])],1),l("el-form-item",{attrs:{prop:"m_u32ACKFlag"}},[l("el-checkbox",{model:{value:e.CTcpFlagMsg.m_u32ACKFlag,callback:function(t){e.$set(e.CTcpFlagMsg,"m_u32ACKFlag",t)},expression:"CTcpFlagMsg.m_u32ACKFlag"}},[e._v("ACK")])],1),l("el-form-item",{attrs:{prop:"m_u32PSHFlag"}},[l("el-checkbox",{model:{value:e.CTcpFlagMsg.m_u32PSHFlag,callback:function(t){e.$set(e.CTcpFlagMsg,"m_u32PSHFlag",t)},expression:"CTcpFlagMsg.m_u32PSHFlag"}},[e._v("PSH")])],1),l("el-form-item",{attrs:{prop:"m_u32RSTFlag"}},[l("el-checkbox",{model:{value:e.CTcpFlagMsg.m_u32RSTFlag,callback:function(t){e.$set(e.CTcpFlagMsg,"m_u32RSTFlag",t)},expression:"CTcpFlagMsg.m_u32RSTFlag"}},[e._v("RST")])],1),l("el-form-item",{attrs:{prop:"m_u32SYNFlag"}},[l("el-checkbox",{model:{value:e.CTcpFlagMsg.m_u32SYNFlag,callback:function(t){e.$set(e.CTcpFlagMsg,"m_u32SYNFlag",t)},expression:"CTcpFlagMsg.m_u32SYNFlag"}},[e._v("SYN")])],1),l("el-form-item",{attrs:{prop:"m_u32FINFlag"}},[l("el-checkbox",{model:{value:e.CTcpFlagMsg.m_u32FINFlag,callback:function(t){e.$set(e.CTcpFlagMsg,"m_u32FINFlag",t)},expression:"CTcpFlagMsg.m_u32FINFlag"}},[e._v("FIN")])],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"载荷长度",prop:"m_u32TcpLoadLen"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CTcpFlagMsg.m_u32TcpLoadLen,callback:function(t){e.$set(e.CTcpFlagMsg,"m_u32TcpLoadLen",t)},expression:"CTcpFlagMsg.m_u32TcpLoadLen"}})],1),l("el-form-item",{staticStyle:{"margin-left":"405px"}})],1),l("el-row",[l("el-form-item",{attrs:{label:"输入端口组ID",prop:"m_u32InputPortGroupId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CTcpFlagMsg.m_u32InputPortGroupId,callback:function(t){e.$set(e.CTcpFlagMsg,"m_u32InputPortGroupId",e._n(t))},expression:"CTcpFlagMsg.m_u32InputPortGroupId"}})],1),l("el-form-item",{attrs:{label:"优先级",prop:"m_u32Priority"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CTcpFlagMsg.m_u32Priority,callback:function(t){e.$set(e.CTcpFlagMsg,"m_u32Priority",e._n(t))},expression:"CTcpFlagMsg.m_u32Priority"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"重启保存",prop:"m_u32RstAclSave"}},[l("el-radio-group",{model:{value:e.CTcpFlagMsg.m_u32RstAclSave,callback:function(t){e.$set(e.CTcpFlagMsg,"m_u32RstAclSave",t)},expression:"CTcpFlagMsg.m_u32RstAclSave"}},[l("el-radio",{attrs:{label:"1"}},[e._v("不保存")]),l("el-radio",{attrs:{label:"0"}},[e._v("保存")])],1)],1),l("el-form-item",{attrs:{label:"中标统计",prop:"m_u32HitStat"}},[l("el-radio-group",{model:{value:e.CTcpFlagMsg.m_u32HitStat,callback:function(t){e.$set(e.CTcpFlagMsg,"m_u32HitStat",t)},expression:"CTcpFlagMsg.m_u32HitStat"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不统计")]),l("el-radio",{attrs:{label:"1"}},[e._v("统计")])],1)],1)],1)],1),l("el-form",[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("CTcpFlagMsg")}}},[e._v("立即创建")]),l("el-button",{on:{click:function(t){return e.resetForm("CTcpFlagMsg")}}},[e._v("重置")])],1)],1)],1)},ie=[],ne={name:"addtcpflag",props:{domain:{type:Array},user:{type:String}},data:function(){return{CTcpFlagMsg:{m_u32URGFlag:"",m_u32ACKFlag:"",m_u32PSHFlag:"",m_u32RSTFlag:"",m_u32SYNFlag:"",m_u32FINFlag:"",m_u32TcpLoadLen:"",m_u32AclIndex:"",m_u32ServiceProfileId:"",m_u32RuleSource:"",m_u32Priority:"",m_u32RstAclSave:"",m_u32HitStat:"",m_u32RuleNum:"",m_u32AgeingTime:"",m_u32IsAny:"",m_u32InputPortGroupId:""},CTcpFlagMsgRules:{m_u32AclIndex:[{required:!0,message:"规则ID不能为空",trigger:"blur"},{pattern:/^([1-9]\d{0,6}|1[0-9]\d{6}|2[0-1][0-9]\d{5}|22000000)$/,message:"规则ID必须为数字值且范围为1-22000000",trigger:"blur"}],m_u32ServiceProfileId:[{required:!0,message:"业务策略ID不能为空",trigger:"blur"},{pattern:/^([1-9][0-9]?|1[0-2][0-7])$/,message:"业务策略ID必须为数字值且范围为1-127",trigger:"blur"}],m_u32InputPortGroupId:[{pattern:/^([1-9]\d?|100)$/,message:"输入端口组ID必须为数字值且范围为1-100",trigger:"blur"}],m_u32Priority:[{pattern:/^([1-9]|[1-2][0-9]|3[0-2])$/,message:"优先级必须为数字值且范围为1-32",trigger:"blur"}],m_u32TcpLoadLen:[{pattern:/^(any|[1-9]\d{0,3}|[1-5][0-9]\d{3}|6[0-4][0-9]\d{2}|65[0-4][0-9]\d|655[0-2][0-9]|6553[0-5])$/,message:"载荷长度为范围在1-65535的数字或any",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=JSON.stringify(this.CTcpFlagMsg),l=JSON.parse(t);this.checkFlag(l);var o={domainId:this.domain[1],domainType:this.domain[0],username:this.user,ruleType:"tcp-flag",ruleAction:"add",param:l};console.log(o),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(m["a"])(o).then((function(e){console.log(e),alert(e.data.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields()},checkFlag:function(e){!0===e.m_u32FINFlag?e.m_u32FINFlag=1:e.m_u32FINFlag=0,!0===e.m_u32SYNFlag?e.m_u32SYNFlag=1:e.m_u32SYNFlag=0,!0===e.m_u32RSTFlag?e.m_u32RSTFlag=1:e.m_u32RSTFlag=0,!0===e.m_u32PSHFlag?e.m_u32PSHFlag=1:e.m_u32PSHFlag=0,!0===e.m_u32ACKFlag?e.m_u32ACKFlag=1:e.m_u32ACKFlag=0,!0===e.m_u32URGFlag?e.m_u32URGFlag=1:e.m_u32URGFlag=0,"any"===e.m_u32TcpLoadLen?(e.m_u32IsAny=0,e.m_u32TcpLoadLen=0):e.m_u32IsAny=1,e.m_u32TcpLoadLen=parseInt(e.m_u32TcpLoadLen)}}},pe=ne,de=Object(p["a"])(pe,me,ie,!1,null,"476b3596",null),ce=de.exports,_e=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"addurl"}},[l("el-form",{ref:"CUrlMsg",staticStyle:{"margin-left":"220px"},attrs:{model:e.CUrlMsg,rules:e.CUrlMsgRules,"label-width":"100px",inline:!0}},[l("el-row",[l("el-form-item",{attrs:{label:"规则ID",prop:"m_u32AclIndex"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CUrlMsg.m_u32AclIndex,callback:function(t){e.$set(e.CUrlMsg,"m_u32AclIndex",e._n(t))},expression:"CUrlMsg.m_u32AclIndex"}})],1),l("el-form-item",{attrs:{label:"url规则类型",prop:"m_u32RuleType"}},[l("el-select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择"},model:{value:e.CUrlMsg.m_u32RuleType,callback:function(t){e.$set(e.CUrlMsg,"m_u32RuleType",e._n(t))},expression:"CUrlMsg.m_u32RuleType"}},e._l(e.ruleType,(function(e){return l("el-option",{key:e.m_u32RuleType,attrs:{label:e.label,value:e.m_u32RuleType}})})),1)],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"是否复合",prop:"m_u32IsComPound"}},[l("el-radio-group",{model:{value:e.CUrlMsg.m_u32IsComPound,callback:function(t){e.$set(e.CUrlMsg,"m_u32IsComPound",t)},expression:"CUrlMsg.m_u32IsComPound"}},[l("el-radio",{attrs:{label:"0"}},[e._v("业务策略")]),l("el-radio",{attrs:{label:"1"}},[e._v("复合")])],1)],1),l("el-form-item",{staticStyle:{"margin-left":"450px"}})],1),"0"===e.CUrlMsg.m_u32IsComPound?l("el-row",[l("el-form-item",{attrs:{label:"业务策略ID",required:"",prop:"m_u32ServiceProfileId"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CUrlMsg.m_u32ServiceProfileId,callback:function(t){e.$set(e.CUrlMsg,"m_u32ServiceProfileId",e._n(t))},expression:"CUrlMsg.m_u32ServiceProfileId"}})],1),l("el-form-item",{staticStyle:{"margin-left":"405px"}})],1):e._e(),l("el-row",[l("el-form-item",{attrs:{label:"关键字长度",prop:"m_u32KeyCodeLen"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"length:2~64"},model:{value:e.CUrlMsg.m_u32KeyCodeLen,callback:function(t){e.$set(e.CUrlMsg,"m_u32KeyCodeLen",e._n(t))},expression:"CUrlMsg.m_u32KeyCodeLen"}})],1),l("el-form-item",{attrs:{label:"关键字",prop:"m_strKeyCode"}},[l("el-input",{staticStyle:{width:"300px"},model:{value:e.CUrlMsg.m_strKeyCode,callback:function(t){e.$set(e.CUrlMsg,"m_strKeyCode",t)},expression:"CUrlMsg.m_strKeyCode"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"输入端口组ID",prop:"m_u32InputPortGroupId"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CUrlMsg.m_u32InputPortGroupId,callback:function(t){e.$set(e.CUrlMsg,"m_u32InputPortGroupId",e._n(t))},expression:"CUrlMsg.m_u32InputPortGroupId"}})],1),l("el-form-item",{attrs:{label:"优先级",prop:"m_u32Priority"}},[l("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.CUrlMsg.m_u32Priority,callback:function(t){e.$set(e.CUrlMsg,"m_u32Priority",e._n(t))},expression:"CUrlMsg.m_u32Priority"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"重启保存",prop:"m_u32RstAclSave"}},[l("el-radio-group",{model:{value:e.CUrlMsg.m_u32RstAclSave,callback:function(t){e.$set(e.CUrlMsg,"m_u32RstAclSave",t)},expression:"CUrlMsg.m_u32RstAclSave"}},[l("el-radio",{attrs:{label:"1"}},[e._v("不保存")]),l("el-radio",{attrs:{label:"0"}},[e._v("保存")])],1)],1),l("el-form-item",{attrs:{label:"中标统计",prop:"m_u32HitStat"}},[l("el-radio-group",{model:{value:e.CUrlMsg.m_u32HitStat,callback:function(t){e.$set(e.CUrlMsg,"m_u32HitStat",t)},expression:"CUrlMsg.m_u32HitStat"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不统计")]),l("el-radio",{attrs:{label:"1"}},[e._v("统计")])],1)],1),"0"===e.CUrlMsg.m_u32IsComPound?l("el-form-item",{attrs:{label:"复合规则"}},[l("el-radio-group",{model:{value:e.CUrlMsg.isRelated,callback:function(t){e.$set(e.CUrlMsg,"isRelated",t)},expression:"CUrlMsg.isRelated"}},[l("el-radio",{attrs:{label:"0"}},[e._v("不复合")]),l("el-radio",{attrs:{label:"1"}},[e._v("复合")])],1)],1):e._e()],1),"1"===e.CUrlMsg.isRelated&&"0"===e.CUrlMsg.m_u32IsComPound?l("el-row",[l("el-row",[l("el-form-item",{attrs:{label:"规则类型",prop:"m_tCompoundMsg[0].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CUrlMsg.m_tCompoundMsg[0].m_u32RuleType,callback:function(t){e.$set(e.CUrlMsg.m_tCompoundMsg[0],"m_u32RuleType",e._n(t))},expression:"CUrlMsg.m_tCompoundMsg[0].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType}})})),1)],1),l("el-form-item",{attrs:{label:"规则ID",prop:"m_tCompoundMsg[0].m_u32RelateId"}},[l("el-input",{model:{value:e.CUrlMsg.m_tCompoundMsg[0].m_u32RelateId,callback:function(t){e.$set(e.CUrlMsg.m_tCompoundMsg[0],"m_u32RelateId",e._n(t))},expression:"CUrlMsg.m_tCompoundMsg[0].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"规则类型",prop:"m_tCompoundMsg[1].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CUrlMsg.m_tCompoundMsg[1].m_u32RuleType,callback:function(t){e.$set(e.CUrlMsg.m_tCompoundMsg[1],"m_u32RuleType",e._n(t))},expression:"CUrlMsg.m_tCompoundMsg[1].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"规则ID",prop:"m_tCompoundMsg[1].m_u32RelateId"}},[l("el-input",{model:{value:e.CUrlMsg.m_tCompoundMsg[1].m_u32RelateId,callback:function(t){e.$set(e.CUrlMsg.m_tCompoundMsg[1],"m_u32RelateId",e._n(t))},expression:"CUrlMsg.m_tCompoundMsg[1].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"规则类型",prop:"m_tCompoundMsg[2].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CUrlMsg.m_tCompoundMsg[2].m_u32RuleType,callback:function(t){e.$set(e.CUrlMsg.m_tCompoundMsg[2],"m_u32RuleType",e._n(t))},expression:"CUrlMsg.m_tCompoundMsg[2].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"规则ID",prop:"m_tCompoundMsg[2].m_u32RelateId"}},[l("el-input",{model:{value:e.CUrlMsg.m_tCompoundMsg[2].m_u32RelateId,callback:function(t){e.$set(e.CUrlMsg.m_tCompoundMsg[2],"m_u32RelateId",e._n(t))},expression:"CUrlMsg.m_tCompoundMsg[2].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"规则类型",prop:"m_tCompoundMsg[3].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CUrlMsg.m_tCompoundMsg[3].m_u32RuleType,callback:function(t){e.$set(e.CUrlMsg.m_tCompoundMsg[3],"m_u32RuleType",e._n(t))},expression:"CUrlMsg.m_tCompoundMsg[3].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"规则ID",prop:"m_tCompoundMsg[3].m_u32RelateId"}},[l("el-input",{model:{value:e.CUrlMsg.m_tCompoundMsg[3].m_u32RelateId,callback:function(t){e.$set(e.CUrlMsg.m_tCompoundMsg[3],"m_u32RelateId",e._n(t))},expression:"CUrlMsg.m_tCompoundMsg[3].m_u32RelateId"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{label:"规则类型",prop:"m_tCompoundMsg[4].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.CUrlMsg.m_tCompoundMsg[4].m_u32RuleType,callback:function(t){e.$set(e.CUrlMsg.m_tCompoundMsg[4],"m_u32RuleType",e._n(t))},expression:"CUrlMsg.m_tCompoundMsg[4].m_u32RuleType"}},e._l(e.compoundRuleType,(function(e){return l("el-option",{key:e.CompoundRuleType,attrs:{label:e.label,value:e.CompoundRuleType,disabled:e.disabled}})})),1)],1),l("el-form-item",{attrs:{label:"规则ID",prop:"m_tCompoundMsg[4].m_u32RelateId"}},[l("el-input",{model:{value:e.CUrlMsg.m_tCompoundMsg[4].m_u32RelateId,callback:function(t){e.$set(e.CUrlMsg.m_tCompoundMsg[4],"m_u32RelateId",e._n(t))},expression:"CUrlMsg.m_tCompoundMsg[4].m_u32RelateId"}})],1)],1)],1):e._e()],1),l("el-form",[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("CUrlMsg")}}},[e._v("提交")]),l("el-button",{on:{click:function(t){return e.resetForm("CUrlMsg")}}},[e._v("重置")])],1)],1)],1)},ge=[],fe={name:"addurl",props:{domain:{type:Array},user:{type:String}},data:function(){return{CUrlMsg:{m_u32RuleType:"",m_strKeyCode:"",m_strKeyCodeMask:"",m_u32KeyCodeLen:"",m_u32ServiceProfileId:"",m_u32RstAclSave:"",m_u32HitStat:"",m_u32IsComPound:"",m_u32AclIndex:"",m_u32RuleSource:"",m_u32Priority:"",m_u32AgeingTime:"",m_u32InputPortGroupId:"",m_u32RuleNum:"",isRelated:"",m_tCompoundMsg:[{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""},{m_u32RuleType:"",m_u32RelateId:""}]},CUrlMsgRules:{m_u32AclIndex:[{required:!0,message:"规则ID不能为空",trigger:"blur"},{pattern:/^([1-9]\d{0,6}|1[0-9]\d{6}|2[0-1][0-9]\d{5}|22000000)$/,message:"规则ID必须为数字值且范围为1-22000000",trigger:"blur"}],m_u32RuleType:[{required:!0,message:"请选择一种url规则类型",trigger:"blur"}],m_u32IsComPound:[{required:!0,message:"请选择业务策略组或复合规则"}],m_u32ServiceProfileId:[{required:!0,message:"业务策略ID不能为空",trigger:"blur"},{pattern:/^([1-9][0-9]?|1[0-2][0-7])$/,message:"业务策略ID必须为数字值且范围为1-127",trigger:"blur"}],m_u32KeyCodeLen:[{required:!0,message:"关键字长度不能为空",trigger:"blur"},{pattern:/^([2-9]|[1-9][0-9]\d?|10[0-1][0-9]|102[0-4])$/,message:"关键字长度为2~1024",trigger:"blur"}],m_strKeyCode:[{required:!0,message:"关键字不能为空",trigger:"blur"},{pattern:/(^0x[0-9a-fA-F]{2,}$)|(^[^0][^x].*)/,message:"请输入正确形式的关键字",trigger:"blur"}],m_strKeyCodeMask:[{pattern:/(^0x[0-9a-fA-F]{2,}$)|(^[^0][^x].*)/,message:"请输入正确形式的关键字掩码",trigger:"blur"}],m_u32InputPortGroupId:[{pattern:/^([1-9]\d?|100)$/,message:"输入端口组ID必须为数字值且范围为1-100",trigger:"blur"}],m_u32Priority:[{pattern:/^([1-9]|[1-2][0-9]|3[0-2])$/,message:"优先级必须为数字值且范围为1-32",trigger:"blur"}]},compoundRuleType:[{CompoundRuleType:26,label:"url-common",disabled:!0},{CompoundRuleType:27,label:"url-host"},{CompoundRuleType:28,label:"url-uri"},{CompoundRuleType:6,label:"窗口规则"},{CompoundRuleType:7,label:"全包浮动规则"}],CompoundRuleType:0,ruleType:[{m_u32RuleType:26,label:"url-common"},{m_u32RuleType:27,label:"url-host"},{m_u32RuleType:28,label:"url-uri"}],m_u32RuleType:0}},methods:{submitForm:function(e){var t=JSON.stringify(this.CUrlMsg),l=JSON.parse(t);if(this.checkKeycode(l),this.checkRelateRuleId(l),this.checkIsCompound(l),""===l.m_strKeyCodeMask){l.m_strKeyCodeMask="0x";for(var o=0;o<l.m_u32KeyCodeLen;o++)l.m_strKeyCodeMask+="ff"}var a={domainId:this.domain[1],domainType:this.domain[0],username:this.user,ruleType:"url",ruleAction:"add",param:l};console.log(a),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(m["a"])(a).then((function(e){console.log(e),alert(e.data.msg)}))}))},resetForm:function(e){this.$refs[e].resetFields()},checkRelateRuleId:function(e){for(var t=[6,7,26,27,28],l=0;l<5;l++)-1!==t.indexOf(e.m_tCompoundMsg[l].m_u32RuleType)&&""===e.m_tCompoundMsg[l].m_u32RelateId&&alert("请输入复合规则ID")},checkIsCompound:function(e){"1"===e.isRelated&&(e.m_u32IsComPound=1)},checkKeycode:function(e){for(var t=0;t<e.m_strKeyCode.length;++t)if(!(e.m_strKeyCode[t]>="a"&&e.m_strKeyCode[t]<="z"||e.m_strKeyCode[t]>="A"&&e.m_strKeyCode[t]<="Z"||e.m_strKeyCode[t]>="0"&&e.m_strKeyCode[t]<="9"||"."===e.m_strKeyCode[t]||"?"===e.m_strKeyCode[t]||"&"===e.m_strKeyCode[t]||":"===e.m_strKeyCode[t]||"/"===e.m_strKeyCode[t]||"="===e.m_strKeyCode[t]||"*"===e.m_strKeyCode[t]||"%"===e.m_strKeyCode[t]))return alert("invalid value index: "+t+" value: "+e.m_strKeyCode[t]),!1;if(0!==e.m_strKeyCode.indexOf("0x",0)){if(2*e.m_strKeyCode.length>2050)return alert("param keycode is out of 1024 byte error!"),!1;if((e.m_strKeyCodeMask.length-2)%2!==0)return alert("KeyCodeMask should be ByteAligned!"),!1;if(e.m_strKeyCode.length!==e.m_u32KeyCodeLen)return alert("keycode's length: "+e.m_strKeyCode.length+" is not equal to keycodelen: "+e.m_u32KeyCodeLen),!1;if(""!==e.m_strKeyCodeMask&&2*e.m_strKeyCode.length!==e.m_strKeyCodeMask.length-2)return alert("keycodemask's length: "+(e.m_strKeyCodeMask.length-2)/2+" is not equal to keycode's length: "+e.m_strKeyCode.length),!1}else if(0===e.m_strKeyCode.indexOf("0x",0)){if(e.m_strKeyCode.length>2050)return alert("param keycode is out of 1024 byte error!"),!1;if(e.m_strKeyCode.length%2!==0)return alert("KeyCode should be ByteAligned!"),!1;if((e.m_strKeyCodeMask.length-2)%2!==0)return alert("KeyCodeMask should be ByteAligned!"),!1;if((e.m_strKeyCode.length-2)/2!==e.m_u32KeyCodeLen)return alert("keycode's length: "+(e.m_strKeyCode.length-2)/2+" is not equal to keycodelen: "+e.m_u32KeyCodeLen),!1;if(""!==e.m_strKeyCodeMask&&e.m_strKeyCode.length!==e.m_strKeyCodeMask.length)return alert("keycodemask's length: "+(e.m_strKeyCodeMask.length-2)/2+" is not equal to keycode's length: "+(e.m_strKeyCode.length-2)/2),!1}}}},Ce=fe,Me=Object(p["a"])(Ce,_e,ge,!1,null,"c153a77e",null),ye=Me.exports,ve=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"configtemplate"}},[l("el-form",{ref:"Template",attrs:{model:e.Template,rules:e.TemplateRules,"label-width":"100px","label-position":"right",inline:!0}},[l("el-row",[l("el-form-item",{attrs:{prop:"CFiveMetaTemplateMsg[0].m_u32TemplateType"}},[l("el-checkbox",{attrs:{label:"SIP",border:""},model:{value:e.Template.CFiveMetaTemplateMsg[0].m_u32TemplateType,callback:function(t){e.$set(e.Template.CFiveMetaTemplateMsg[0],"m_u32TemplateType",t)},expression:"Template.CFiveMetaTemplateMsg[0].m_u32TemplateType"}})],1),l("el-form-item",{attrs:{label:"模板优先级",prop:"CFiveMetaTemplateMsg[0].m_u32Priority"}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:e.Template.CFiveMetaTemplateMsg[0].m_u32Priority,callback:function(t){e.$set(e.Template.CFiveMetaTemplateMsg[0],"m_u32Priority",e._n(t))},expression:"Template.CFiveMetaTemplateMsg[0].m_u32Priority"}})],1),l("el-form-item",{attrs:{prop:"CFiveMetaTemplateMsg[1].m_u32TemplateType"}},[l("el-checkbox",{attrs:{label:"DIP",border:""},model:{value:e.Template.CFiveMetaTemplateMsg[1].m_u32TemplateType,callback:function(t){e.$set(e.Template.CFiveMetaTemplateMsg[1],"m_u32TemplateType",t)},expression:"Template.CFiveMetaTemplateMsg[1].m_u32TemplateType"}})],1),l("el-form-item",{attrs:{label:"模板优先级",prop:"CFiveMetaTemplateMsg[1].m_u32Priority"}},[l("el-input",{attrs:{"auto-complete":"off"},model:{value:e.Template.CFiveMetaTemplateMsg[1].m_u32Priority,callback:function(t){e.$set(e.Template.CFiveMetaTemplateMsg[1],"m_u32Priority",e._n(t))},expression:"Template.CFiveMetaTemplateMsg[1].m_u32Priority"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{prop:"CFiveMetaTemplateMsg[2].m_u32TemplateType"}},[l("el-checkbox",{attrs:{label:"SIP-DIP",border:""},model:{value:e.Template.CFiveMetaTemplateMsg[2].m_u32TemplateType,callback:function(t){e.$set(e.Template.CFiveMetaTemplateMsg[2],"m_u32TemplateType",t)},expression:"Template.CFiveMetaTemplateMsg[2].m_u32TemplateType"}})],1),l("el-form-item",{attrs:{label:"模板优先级",prop:"CFiveMetaTemplateMsg[2].m_u32Priority"}},[l("el-input",{staticStyle:{width:"auto"},attrs:{"auto-complete":"off"},model:{value:e.Template.CFiveMetaTemplateMsg[2].m_u32Priority,callback:function(t){e.$set(e.Template.CFiveMetaTemplateMsg[2],"m_u32Priority",e._n(t))},expression:"Template.CFiveMetaTemplateMsg[2].m_u32Priority"}})],1),l("el-form-item",{attrs:{prop:"CFiveMetaTemplateMsg[3].m_u32TemplateType"}},[l("el-checkbox",{attrs:{label:"SIP-P-DIP",border:""},model:{value:e.Template.CFiveMetaTemplateMsg[3].m_u32TemplateType,callback:function(t){e.$set(e.Template.CFiveMetaTemplateMsg[3],"m_u32TemplateType",t)},expression:"Template.CFiveMetaTemplateMsg[3].m_u32TemplateType"}})],1),l("el-form-item",{attrs:{label:"模板优先级",prop:"CFiveMetaTemplateMsg[3].m_u32Priority"}},[l("el-input",{staticStyle:{width:"auto"},attrs:{"auto-complete":"off"},model:{value:e.Template.CFiveMetaTemplateMsg[3].m_u32Priority,callback:function(t){e.$set(e.Template.CFiveMetaTemplateMsg[3],"m_u32Priority",e._n(t))},expression:"Template.CFiveMetaTemplateMsg[3].m_u32Priority"}})],1)],1),l("el-row",[l("el-form-item",{attrs:{prop:"CFiveMetaTemplateMsg[4].m_u32TemplateType"}},[l("el-checkbox",{attrs:{label:"SIP-DIP-SP-DP",border:""},model:{value:e.Template.CFiveMetaTemplateMsg[4].m_u32TemplateType,callback:function(t){e.$set(e.Template.CFiveMetaTemplateMsg[4],"m_u32TemplateType",t)},expression:"Template.CFiveMetaTemplateMsg[4].m_u32TemplateType"}})],1),l("el-form-item",{attrs:{label:"模板优先级",prop:"CFiveMetaTemplateMsg[4].m_u32Priority"}},[l("el-input",{staticStyle:{width:"auto"},attrs:{"auto-complete":"off"},model:{value:e.Template.CFiveMetaTemplateMsg[4].m_u32Priority,callback:function(t){e.$set(e.Template.CFiveMetaTemplateMsg[4],"m_u32Priority",e._n(t))},expression:"Template.CFiveMetaTemplateMsg[4].m_u32Priority"}})],1),l("el-form-item",{attrs:{prop:"CFiveMetaTemplateMsg[5].m_u32TemplateType"}},[l("el-checkbox",{attrs:{label:"SIP-DIP-P-SP-DP",border:""},model:{value:e.Template.CFiveMetaTemplateMsg[5].m_u32TemplateType,callback:function(t){e.$set(e.Template.CFiveMetaTemplateMsg[5],"m_u32TemplateType",t)},expression:"Template.CFiveMetaTemplateMsg[5].m_u32TemplateType"}})],1),l("el-form-item",{attrs:{label:"模板优先级",prop:"CFiveMetaTemplateMsg[5].m_u32Priority"}},[l("el-input",{staticStyle:{width:"auto"},attrs:{"auto-complete":"off"},model:{value:e.Template.CFiveMetaTemplateMsg[5].m_u32Priority,callback:function(t){e.$set(e.Template.CFiveMetaTemplateMsg[5],"m_u32Priority",e._n(t))},expression:"Template.CFiveMetaTemplateMsg[5].m_u32Priority"}})],1)],1)],1),l("el-form",[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitRuleTemplate("Template")}}},[e._v("配置")]),l("el-button",{on:{click:function(t){return e.resetRuleTemplate("Template")}}},[e._v("重置")])],1)],1),l("el-form",{ref:"Priority",attrs:{model:e.Priority,rules:e.PriorityRules,inline:!0}},[l("el-row",[l("el-form-item",{attrs:{prop:"CRulePriByTypeMsg[0].m_u32RuleType"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.Priority.CRulePriByTypeMsg[0].m_u32RuleType,callback:function(t){e.$set(e.Priority.CRulePriByTypeMsg[0],"m_u32RuleType",t)},expression:"Priority.CRulePriByTypeMsg[0].m_u32RuleType"}},e._l(e.RuleType,(function(e){return l("el-option",{key:e.ruleType,attrs:{label:e.label,value:e.ruleType}})})),1)],1),l("el-form-item",{attrs:{label:"规则优先级",prop:"CRulePriByTypeMsg[0].m_u32Priority"}},[l("el-input",{model:{value:e.Priority.CRulePriByTypeMsg[0].m_u32Priority,callback:function(t){e.$set(e.Priority.CRulePriByTypeMsg[0],"m_u32Priority",e._n(t))},expression:"Priority.CRulePriByTypeMsg[0].m_u32Priority"}})],1)],1)],1),l("el-form",[l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitRulePriority("Priority")}}},[e._v("配置")]),l("el-button",{on:{click:function(t){return e.resetRulePriority("Priority")}}},[e._v("重置")])],1)],1)],1)},Ie=[],be={name:"configtemplate",props:{domain:{type:Array},user:{type:String}},data:function(){return{Priority:{CRulePriByTypeMsg:[{m_u32RuleType:"",m_u32Priority:""}]},PriorityRules:{"CRulePriByTypeMsg[0].m_u32Priority":[{pattern:/^([1-9]|[1-2][0-9]|3[0-2])$/,message:"规则优先级范围为1-32",trigger:"blur"}]},Template:{CFiveMetaTemplateMsg:[{m_u32TemplateType:"",m_u32Priority:""},{m_u32TemplateType:"",m_u32Priority:""},{m_u32TemplateType:"",m_u32Priority:""},{m_u32TemplateType:"",m_u32Priority:""},{m_u32TemplateType:"",m_u32Priority:""},{m_u32TemplateType:"",m_u32Priority:""}]},TemplateRules:{"CFiveMetaTemplateMsg[0].m_u32Priority":[{pattern:/^([3-9]|1[0-9]|2[0-8])$/,message:"模板优先级范围为3-28",trigger:"blur"}],"CFiveMetaTemplateMsg[1].m_u32Priority":[{pattern:/^([3-9]|1[0-9]|2[0-8])$/,message:"模板优先级范围为3-28",trigger:"blur"}],"CFiveMetaTemplateMsg[2].m_u32Priority":[{pattern:/^([3-9]|1[0-9]|2[0-8])$/,message:"模板优先级范围为3-28",trigger:"blur"}],"CFiveMetaTemplateMsg[3].m_u32Priority":[{pattern:/^([3-9]|1[0-9]|2[0-8])$/,message:"模板优先级范围为3-28",trigger:"blur"}],"CFiveMetaTemplateMsg[4].m_u32Priority":[{pattern:/^([3-9]|1[0-9]|2[0-8])$/,message:"模板优先级范围为3-28",trigger:"blur"}],"CFiveMetaTemplateMsg[5].m_u32Priority":[{pattern:/^([3-9]|1[0-9]|2[0-8])$/,message:"模板优先级范围为3-28",trigger:"blur"}]},RuleType:[{ruleType:1,label:"ipv4"},{ruleType:2,label:"ipv6"},{ruleType:3,label:"ipv4-m"},{ruleType:4,label:"ipv6-m"},{ruleType:9,label:"固定位置特征码规则"},{ruleType:10,label:"tcp-flag规则"},{ruleType:13,label:"ipv4固定位置特征码复合规则"},{ruleType:15,label:"ipv4全包浮动特征码复合规则"},{ruleType:14,label:"ipv6固定位置特征码复合规则"},{ruleType:16,label:"ipv6全包浮动特征码复合规则"},{ruleType:17,label:"固定位置特征码复合规则"},{ruleType:23,label:"协议规则"},{ruleType:27,label:"vlan规则"},{ruleType:25,label:"url规则"},{ruleType:26,label:"url复合规则"},{ruleType:32,label:"eth-mac规则"},{ruleType:30,label:"ipv4复合imsi规则"},{ruleType:31,label:"ipv6复合imsi规则"},{ruleType:33,label:"window规则"},{ruleType:11,label:"全包浮动特征码规则"},{ruleType:20,label:"imsi规则"}],ruleType:0}},methods:{submitRulePriority:function(e){var t=this,l=JSON.stringify(this.Priority.CRulePriByTypeMsg),o=JSON.parse(l);if(""===o[0].m_u32RuleType&&""!==o[0].m_u32Priority)return alert("请选择规则类型"),!1;var a={domainId:"1",domainType:"8",username:"user1",ruleType:"priority",ruleAction:"add",param:o};console.log(a),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.$axios({method:"post",url:"/api/rule/addRule",data:a}).then((function(e){console.log(e),alert(e.data.msg)}))}))},resetRulePriority:function(e){this.$refs[e].resetFields()},submitRuleTemplate:function(e){var t=JSON.stringify(this.Template.CFiveMetaTemplateMsg),l=JSON.parse(t),o=[];this.setRuleTemplateAndPriority(l);for(var a=0;a<6;a++){if(""===l[a].m_u32TemplateType&&""!==l[a].m_u32Priority)return alert("请选择模板类型"),!1;""!==l[a].m_u32TemplateType&&""===l[a].m_u32Priority?o.push({m_u32TemplateType:l[a].m_u32TemplateType}):""!==l[a].m_u32TemplateType&&o.push(l[a])}l=o;var r={domainId:this.domain[1],domainType:this.domain[0],username:this.user,ruleType:"template",ruleAction:"add",param:l};console.log(r),this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(m["a"])(r).then((function(e){console.log(e),alert(e.data.msg)}))}))},resetRuleTemplate:function(e){this.$refs[e].resetFields()},setRuleTemplateAndPriority:function(e){!0===e[0].m_u32TemplateType&&(e[0].m_u32TemplateType=0),!0===e[1].m_u32TemplateType&&(e[1].m_u32TemplateType=1),!0===e[2].m_u32TemplateType&&(e[2].m_u32TemplateType=24),!0===e[3].m_u32TemplateType&&(e[3].m_u32TemplateType=14),!0===e[4].m_u32TemplateType&&(e[4].m_u32TemplateType=11),!0===e[5].m_u32TemplateType&&(e[5].m_u32TemplateType=8)}}},Re=be,Pe=Object(p["a"])(Re,ve,Ie,!1,null,"c2bf6622",null),Te=Pe.exports,ke=l("f698"),Fe=l("5f87"),he=l("08d2"),Se={name:"addRule",components:{Addurl:ye,Addtcpflag:ce,Addprotocol:se,Addimsi:te,Addethmac:Y,Addwindow:E,Addvlan:V,Addfullchar:$,Addfixchar:T,Addipv6:y,Addipv4:c,Configtemplate:Te},data:function(){return{RuleType:[{value:"ipv4",label:"ipv4规则"},{value:"ipv6",label:"ipv6规则"},{value:"fix-char",label:"固定位置特征码规则"},{value:"full-char",label:"全包浮动特征码规则"},{value:"vlan",label:"vlan规则"},{value:"window",label:"window规则"},{value:"eth-mac",label:"eth-mac规则"},{value:"imsi",label:"imsi规则"},{value:"protocol",label:"协议规则"},{value:"url",label:"url规则"},{value:"tcp-flag",label:"tcp-flag规则"},{value:"config-template",label:"配置规则模板/优先级"}],rule:"ipv4",domainValue:[],domain:[],domainType:[],user:""}},mounted:function(){this.domainType=ke["e"];var e=Object(Fe["a"])();this.user=e,this._getDomainAll(e)},methods:{_getDomainAll:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function l(){var o,a;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:o=[],a=t.domainValue,Object(he["a"])(e).then((function(e){var l=e.data;l.forEach((function(e,l){var r={};t.domainType.some((function(t,l){if(e.m_u32Property===t.value)return r.label=t.label,r.value=t.value,r.children=[{label:e.m_u32DomainId,value:e.m_u32DomainId}],0===a.length&&(a[0]=t.value,a[1]=e.m_u32DomainId),!0})),o.push(r)})),t.domain=o}));case 3:case"end":return l.stop()}}),l)})))()}}},xe=Se,$e=(l("2da1"),Object(p["a"])(xe,o,a,!1,null,"301736dc",null));t["default"]=$e.exports},"2da1":function(e,t,l){"use strict";var o=l("f1e4"),a=l.n(o);a.a},"34c6":function(e,t,l){"use strict";l.d(t,"a",(function(){return a})),l.d(t,"c",(function(){return r})),l.d(t,"b",(function(){return u})),l.d(t,"d",(function(){return s}));var o=l("b775");function a(e){return Object(o["a"])({url:"/rule/addRule",method:"post",data:e})}function r(e){return Object(o["a"])({url:"/rule/delRule",method:"post",data:e})}function u(e){return Object(o["a"])({url:"/rule/delAllRule",method:"post",data:e})}function s(e){return Object(o["a"])({url:"/rule/delRuleByRuleType",method:"post",data:e})}},f1e4:function(e,t,l){},f698:function(e,t,l){"use strict";l.d(t,"c",(function(){return o})),l.d(t,"b",(function(){return a})),l.d(t,"e",(function(){return r})),l.d(t,"a",(function(){return u})),l.d(t,"d",(function(){return s}));var o=[{code:0,value:"UNKNOWN_CARD"},{code:1,value:"NGP_PPB3320"},{code:2,value:"NGP_PPB3310"},{code:3,value:"NGP_PPB3311"},{code:4,value:"NGP_PPB3312"},{code:5,value:"NGP_PPB3313"},{code:6,value:"NGP_CPB4140"},{code:7,value:"NGP_SMB2008"},{code:8,value:"NGP_IOB6210"},{code:9,value:"NGP_CPB4141"},{code:10,label:"主控卡",value:"NETVIS-MCB1901"},{code:11,label:"交互卡",value:"NETVIS-SMB2032"},{code:12,label:"双路业务板卡",value:"NETVIS-PPB3320"},{code:13,label:"后插卡",value:"NETVIS-RTM9010"},{code:14,label:"32口盒式设备",value:"NETVIS-BB2032"},{code:255,value:"ALL_PROCESS_CARD"}],a=[{code:0,label:"No Card",value:"NO_CARD"},{code:1,label:"Uninit",value:"UNINIT_STATUS"},{code:2,label:"Init",value:"INIT_STATUS"},{code:3,label:"GlobalSYN",value:"GLOBAL_SYN_STATUS"},{code:4,label:"Ready",value:"READY_STATUS"},{code:5,label:"TimeSYN",value:"TIME_SYN_STATUS"},{code:6,label:"Del All Rule",value:"DELETE_ALL_RULE"},{code:7,label:"Resume Default",value:"RESUME_DEFAULT"},{code:8,label:"BUSY_STATUS",value:"BUSY_STATUS"},{code:255,value:"ERROR_STATUS"}],r=[{value:0,label:"UNKNOWN"},{value:1,label:"SWITCH"},{value:2,label:"COLLECTION"},{value:3,label:"DPI"},{value:4,label:"LTE"},{value:5,label:"COLREAR"},{value:6,label:"JKREAR"},{value:7,label:"NETPROB"},{value:8,label:"OPERATOR"},{value:9,label:"TAPBOX"}],u=[{code:0,value:"UNKNOWN_TYPE"},{code:1,value:"X86_LEARN_TYPE"},{code:2,value:"X86_SIGNAL_TYPE"},{code:3,value:"X86_3G_TYPE"},{code:4,value:"SINGLE_NPS_TYPE"},{code:5,value:"DOUBLE_NPS_TYPE"},{code:6,value:"IO_PURELY_TYPE"},{code:7,value:"X86_ADVANCED_TYPE "},{code:8,value:"SWITCH_TYPE "},{code:9,value:"X86_LABEL_TYPE "}],s=[{code:1,label:"ATCA 2槽机箱",value:"ATCA_CHASIS_SLOT2"},{code:2,label:"ATCA 6槽机箱",value:"ATCA_CHASIS_SLOT6"},{code:3,label:"ATCA 14槽机箱",value:"ATCA_CHASIS_SLOT14"},{code:4,label:"CROSS 2槽机箱",value:"CROSS_CHASIS_SLOT2"},{code:5,label:"CROSS 3槽机箱",value:"CROSS_CHASIS_SLOT3"},{code:6,label:"CROSS 8槽机箱",value:"CROSS_CHASIS_SLOT8"},{code:7,label:"CROSS 16槽机箱",value:"CROSS_CHASIS_SLOT16"},{code:8,label:"盒式设备",value:"BOX_CHASIS_SLOT1"},{code:255,value:"CHASIS_UNKNOW"}]}}]);